/*!
 * DevExpress Gantt (dx-gantt.min)
 * Version: 0.0.27
 * Build date: Thu Nov 28 2019
 * 
 * Copyright (c) 2012 - 2019 Developer Express Inc. ALL RIGHTS RESERVED
 * Read about DevExpress licensing here: https://www.devexpress.com/Support/EULAs
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Gantt=t():(e.DevExpress=e.DevExpress||{},e.DevExpress.Gantt=t())}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=32)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var JsonUtils=function(){function JsonUtils(){}return JsonUtils.isExists=function(e){return void 0!==e&&null!=e},JsonUtils.isValidJson=function(e){return!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(e.replace(/"(\\.|[^"\\])*"/g,""))},JsonUtils.evalJson=function(json){return JsonUtils.isValidJson(json)?eval("("+json+")"):null},JsonUtils}();exports.JsonUtils=JsonUtils},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=function(){function e(){}return e.clientEventRequiresDocScrollCorrection=function(){var e=o.Browser.Safari&&o.Browser.Version<3,t=o.Browser.MacOSMobilePlatform&&o.Browser.Version<5.1;return o.Browser.AndroidDefaultBrowser||o.Browser.AndroidChromeBrowser||!(e||t)},e.getEventX=function(e){return e.clientX+(this.clientEventRequiresDocScrollCorrection()?this.getDocumentScrollLeft():0)},e.getEventY=function(e){return e.clientY+(this.clientEventRequiresDocScrollCorrection()?this.getDocumentScrollTop():0)},e.getEventSource=function(e){return e.srcElement?e.srcElement:e.target},e.GetKeyCode=function(e){return o.Browser.NetscapeFamily||o.Browser.Opera?e.which:e.keyCode},e.GetIsParent=function(e,t){if(!e||!t)return!1;for(;t;){if(t===e)return!0;if("BODY"===t.tagName)return!1;t=t.parentNode}return!1},e.getCurrentStyle=function(e){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null)},e.getTopPaddings=function(e){var t=this.getCurrentStyle(e);return this.pxToInt(t.paddingTop)},e.getLeftPadding=function(e){var t=this.getCurrentStyle(e);return this.pxToInt(t.paddingLeft)},e.getVerticalBordersWidth=function(e){var t=window.getComputedStyle?window.getComputedStyle(e):this.getCurrentStyle(e),n=0;return"none"!=t.borderTopStyle&&(n+=this.pxToFloat(t.borderTopWidth)),"none"!=t.borderBottomStyle&&(n+=this.pxToFloat(t.borderBottomWidth)),n},e.getHorizontalBordersWidth=function(e){var t=window.getComputedStyle?window.getComputedStyle(e):this.getCurrentStyle(e),n=0;return"none"!=t.borderLeftStyle&&(n+=this.pxToFloat(t.borderLeftWidth)),"none"!=t.borderRightStyle&&(n+=this.pxToFloat(t.borderRightWidth)),n},e.pxToInt=function(e){return this.pxToNumber(e,parseInt)},e.pxToFloat=function(e){return this.pxToNumber(e,parseFloat)},e.pxToNumber=function(e,t){var n=0;if(null!=e&&""!=e)try{var o=e.indexOf("px");o>-1&&(n=t(e.substr(0,o)))}catch(e){}return n},e.getDocumentScrollTop=function(){var e=o.Browser.IE&&"hidden"==this.getCurrentStyle(document.body).overflow&&document.body.scrollTop>0;return o.Browser.WebKitFamily||o.Browser.Edge||e?o.Browser.MacOSMobilePlatform?window.pageYOffset:o.Browser.WebKitFamily&&document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop},e.getDocumentScrollLeft=function(){var e=o.Browser.IE&&"hidden"==this.getCurrentStyle(document.body).overflow&&document.body.scrollLeft>0;return o.Browser.Edge||e?document.body?document.body.scrollLeft:document.documentElement.scrollLeft:o.Browser.WebKitFamily?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft},e.getAbsolutePositionY=function(e){return o.Browser.IE?this.getAbsolutePositionY_IE(e):o.Browser.Firefox&&o.Browser.Version>=3?this.getAbsolutePositionY_FF3(e):o.Browser.Opera?this.getAbsolutePositionY_Opera(e):o.Browser.NetscapeFamily&&(!o.Browser.Firefox||o.Browser.Version<3)?this.getAbsolutePositionY_NS(e):o.Browser.WebKitFamily||o.Browser.Edge?this.getAbsolutePositionY_FF3(e):this.getAbsolutePositionY_Other(e)},e.getAbsolutePositionY_Opera=function(e){var t=!0;e&&"TR"==e.tagName&&e.cells.length>0&&(e=e.cells[0]);for(var n=this.getAbsoluteScrollOffset_OperaFF(e,!1);null!=e;)n+=e.offsetTop,t||(n-=e.scrollTop),e=e.offsetParent,t=!1;return n+=document.body.scrollTop},e.getAbsolutePositionY_IE=function(e){return null==e||o.Browser.IE&&null==e.parentNode?0:e.getBoundingClientRect().top+this.getDocumentScrollTop()},e.getAbsolutePositionY_FF3=function(e){if(null==e)return 0;var t=e.getBoundingClientRect().top+this.getDocumentScrollTop();return Math.round(t)},e.getAbsolutePositionY_NS=function(e){for(var t=this.getAbsoluteScrollOffset_OperaFF(e,!1),n=!0;null!=e;){if(t+=e.offsetTop,n||null==e.offsetParent||(t-=e.scrollTop),!n&&o.Browser.Firefox){var i=this.getCurrentStyle(e);"DIV"==e.tagName&&"visible"!=i.overflow&&(t+=this.pxToInt(i.borderTopWidth))}n=!1,e=e.offsetParent}return t},e.getAbsolutePositionY_Other=function(e){for(var t=0,n=!0;null!=e;)t+=e.offsetTop,n||null==e.offsetParent||(t-=e.scrollTop),n=!1,e=e.offsetParent;return t},e.getAbsoluteScrollOffset_OperaFF=function(e,t){for(var n=0,o=!0;null!=e&&"BODY"!=e.tagName;){var i=this.getCurrentStyle(e);if("absolute"==i.position)break;o||"DIV"!=e.tagName||""!=i.position&&"static"!=i.position||(n-=t?e.scrollLeft:e.scrollTop),e=e.parentNode,o=!1}return n},e.getAbsolutePositionX=function(e){return o.Browser.IE?this.getAbsolutePositionX_IE(e):o.Browser.Firefox&&o.Browser.Version>=3?this.getAbsolutePositionX_FF3(e):o.Browser.Opera?this.getAbsolutePositionX_Opera(e):o.Browser.NetscapeFamily&&(!o.Browser.Firefox||o.Browser.Version<3)?this.getAbsolutePositionX_NS(e):o.Browser.WebKitFamily||o.Browser.Edge?this.getAbsolutePositionX_FF3(e):this.getAbsolutePositionX_Other(e)},e.getAbsolutePositionX_Opera=function(e){for(var t=!0,n=this.getAbsoluteScrollOffset_OperaFF(e,!0);null!=e;)n+=e.offsetLeft,t||(n-=e.scrollLeft),e=e.offsetParent,t=!1;return n+=document.body.scrollLeft},e.getAbsolutePositionX_IE=function(e){return null==e||o.Browser.IE&&null==e.parentNode?0:e.getBoundingClientRect().left+this.getDocumentScrollLeft()},e.getAbsolutePositionX_FF3=function(e){if(null==e)return 0;var t=e.getBoundingClientRect().left+this.getDocumentScrollLeft();return Math.round(t)},e.getAbsolutePositionX_NS=function(e){for(var t=this.getAbsoluteScrollOffset_OperaFF(e,!0),n=!0;null!=e;){if(t+=e.offsetLeft,n||null==e.offsetParent||(t-=e.scrollLeft),!n&&o.Browser.Firefox){var i=this.getCurrentStyle(e);"DIV"==e.tagName&&"visible"!=i.overflow&&(t+=this.pxToInt(i.borderLeftWidth))}n=!1,e=e.offsetParent}return t},e.getAbsolutePositionX_Other=function(e){for(var t=0,n=!0;null!=e;)t+=e.offsetLeft,n||null==e.offsetParent||(t-=e.scrollLeft),n=!1,e=e.offsetParent;return t},e.GetEvent=function(e){return"undefined"!=typeof event&&null!=event&&o.Browser.IE?event:e},e.isExists=function(e){return void 0!==e&&null!=e},e.isTouchEvent=function(t){return!!t&&(o.Browser.WebKitTouchUI&&e.isExists(t.changedTouches))},e.IsLeftButtonPressed=function(t){return!!e.isTouchEvent(t)||!!(t=e.GetEvent(t))&&(o.Browser.IE&&o.Browser.Version<11?!!o.Browser.MSTouchUI||t.button%2==1:o.Browser.WebKitFamily?"pointermove"===t.type?1===t.buttons:1==t.which:o.Browser.NetscapeFamily||o.Browser.Edge||o.Browser.IE&&o.Browser.Version>=11?t.type===e.touchMouseMoveEventName?1===t.buttons:1==t.which:!o.Browser.Opera||0==t.button)},e.touchMouseMoveEventName=o.Browser.WebKitTouchUI?"touchmove":o.Browser.Edge&&o.Browser.MSTouchUI&&window.PointerEvent?"pointermove":"mousemove",e.getMouseWheelEventName=function(){return o.Browser.Safari?"mousewheel":o.Browser.NetscapeFamily&&o.Browser.MajorVersion<17?"DOMMouseScroll":"wheel"},e.getWheelDelta=function(e){var t;return t=o.Browser.NetscapeFamily&&o.Browser.MajorVersion<17?-e.detail:o.Browser.Safari?e.wheelDelta:-e.deltaY,o.Browser.Opera&&o.Browser.Version<9&&(t=-t),t},e.IsRightButtonPressed=function(t){return t=e.GetEvent(t),!!e.isExists(t)&&(o.Browser.IE||o.Browser.Edge?"pointermove"===t.type?2===t.buttons:2==t.button:o.Browser.NetscapeFamily||o.Browser.WebKitFamily?3==t.which:!o.Browser.Opera||1==t.button)},e.addClassNameToElement=function(t,n){if(t&&"string"==typeof n&&(n=e.trim(n),!e.elementHasCssClass(t,n)&&""!==n)){var o=e.getClassName(t);e.setClassName(t,""===o?n:o+" "+n)}},e.removeClassNameFromElement=function(t,n){if(t){var o=" "+e.getClassName(t)+" ",i=o.replace(" "+n+" "," ");o.length!=i.length&&e.setClassName(t,e.trim(i))}},e.elementHasCssClass=function(t,n){try{var o,i=e.getClassNameList(t);if(!i){var r=e.getClassName(t);if(!r)return!1;o=r.split(" ")}for(var s=n.split(" "),a=s.length-1;a>=0;a--)if(i){if(-1===i.indexOf(s[a]))return!1}else if(o.indexOf(s[a])<0)return!1;return!0}catch(e){return!1}},e.getClassName=function(e){var t="";return e&&(t="svg"===e.tagName?e.className.baseVal:e.className?e.className:""),t},e.getClassNameList=function(t){var n=[];return t&&(n="svg"===t.tagName?e.getClassName(t).replace(/^\s+|\s+$/g,"").split(/\s+/):t.classList?[].slice.call(t.classList):e.getClassName(t).replace(/^\s+|\s+$/g,"").split(/\s+/)),n},e.setClassName=function(t,n){"svg"===t.tagName?t.className.baseVal=e.trim(n):t.className=e.trim(n)},e.trim=function(e){var t=e;return t=(t=t.replace(/^\s+/,"")).replace(/\s+$/,"")},e}();t.DomUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),i=n(24),r=n(0),s=n(10),a=n(25),c=function(){function e(){}return e.compareDates=function(e,t){return e&&t?t.getTime()-e.getTime():-1},e.areDatesEqual=function(e,t){return 0==this.compareDates(e,t)},e.getMaxDate=function(e,t){return e||t?e?t&&this.compareDates(e,t)>0?t:e:t:null},e.getMinDate=function(e,t){return e||t?e?t?this.compareDates(e,t)>0?e:t:e:t:null},e.getDaysBetween=function(e,t){var n=Math.abs(t.getTime()-e.getTime());return Math.ceil(n/this.msInDay)},e.getWeeksBetween=function(e,t){var n=this.getDaysBetween(e,t),o=Math.floor(n/7);return e.getDay()>t.getDay()&&o++,o},e.getMonthsDifference=function(e,t){var n=this.compareDates(e,t),o=n>=0?e:t,i=n>=0?t:e;return 12*(i.getFullYear()-o.getFullYear())+(i.getMonth()-o.getMonth())},e.getYearsDifference=function(e,t){return Math.abs(t.getFullYear()-e.getFullYear())},e.getDayNumber=function(e){return Math.ceil(e.getTime()/this.msInDay)},e.getDateByDayNumber=function(e){var t=new Date(e*this.msInDay);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t},e.addDays=function(e,t){return new Date(e.getTime()+t*this.msInDay)},e.checkDayOfMonth=function(e,t){return e==t.getDate()},e.checkDayOfWeek=function(e,t){return e==t.getDay()},e.checkMonth=function(e,t){return e==t.getMonth()},e.checkYear=function(e,t){return e==t.getFullYear()},e.checkDayOfWeekOccurrenceInMonth=function(e,t,n){var o=this.getSpecificDayOfWeekInMonthDates(t,e.getFullYear(),e.getMonth());return n==a.DayOfWeekMonthlyOccurrence.Last?this.areDatesEqual(e,o[o.length-1]):this.areDatesEqual(e,o[n])},e.getFirstDayOfWeekInMonth=function(e,t){return new Date(e,t,1).getDay()},e.getSpecificDayOfWeekInMonthDates=function(e,t,n){for(var o=this.getFirstDayOfWeekInMonth(t,n),i=e>=o?e-o:e+7-o,r=new Array,s=new Date(t,n,i+1);s.getMonth()==n;)r.push(s),s=this.addDays(s,7);return r},e.getSpecificDayOfWeekInMonthDate=function(e,t,n,o){var i=this.getSpecificDayOfWeekInMonthDates(e,t,n);return o==a.DayOfWeekMonthlyOccurrence.Last?i[i.length-1]:i[o]},e.checkValidDayInMonth=function(e,t,n){return!(n<1||n>31||new Date(e,t,n).getMonth()!=t)},e.getNextMonth=function(e,t){return void 0===t&&(t=1),(e+t)%12},e.convertToDate=function(e){if(e instanceof Date)return new Date(e);var t=Date.parse(e);return isNaN(t)?null:new Date(t)},e.convertTimeRangeToDateRange=function(e,t){var n=this.getDateByDayNumber(t),o=n.getFullYear(),i=n.getMonth(),r=n.getDate(),a=e.start,c=new Date(o,i,r,a.hour,a.min,a.sec,a.msec),u=e.end,l=new Date(o,i,r,u.hour,u.min,u.sec,u.msec);return new s.DateRange(c,l)},e.convertToTimeRanges=function(e){var t=this;return e instanceof Array?e.map((function(e){return t.convertToTimeRange(e)})):this.parseTimeRanges(e)},e.convertToTimeRange=function(e){return e?e instanceof i.TimeRange?e:r.JsonUtils.isExists(e.start)&&r.JsonUtils.isExists(e.end)?new i.TimeRange(this.convertToTime(e.start),this.convertToTime(e.end)):this.parseTimeRange(e):null},e.convertToTime=function(e){return e?e instanceof o.Time?e:e instanceof Date?this.getTimeGromJsDate(e):this.parseTime(e):null},e.parseTimeRanges=function(e){var t=this;return e?e.split(/;|,/).map((function(e){return t.parseTimeRange(e)})).filter((function(e){return!!e})):null},e.parseTimeRange=function(e){if(!e)return null;var t=e.split("-"),n=t[0],o=t[1];return r.JsonUtils.isExists(n)&&r.JsonUtils.isExists(o)?new i.TimeRange(this.parseTime(n),this.parseTime(o)):null},e.parseTime=function(e){if(!e)return null;var t=e.split(":"),n=parseInt(t[0])||0,i=parseInt(t[1])||0,r=parseInt(t[2])||0,s=parseInt(t[3])||0;return new o.Time(n,i,r,s)},e.getTimeGromJsDate=function(e){if(!e)return null;var t=e.getHours(),n=e.getMinutes(),i=e.getSeconds(),r=e.getMilliseconds();return new o.Time(t,n,i,r)},e.caclTimeDifference=function(e,t){return t.getTimeInMilleconds()-e.getTimeInMilleconds()},e.areTimesEqual=function(e,t){return 0==this.caclTimeDifference(e,t)},e.getMaxTime=function(e,t){return e||t?e?t&&this.caclTimeDifference(e,t)>0?t:e:t:null},e.getMinTime=function(e,t){return e||t?e?t?this.caclTimeDifference(e,t)>0?e:t:e:t:null},e.getLastTimeOfDay=function(){return new o.Time(23,59,59,999)},e.msInDay=864e5,e}();t.DateTimeUtils=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){this.x=null,this.y=null,void 0!==e&&(this.x=e),void 0!==t&&(this.y=t)};t.Point=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(){this.internalId=this.generateGuid()}return e.prototype.assignFromObject=function(e){o.JsonUtils.isExists(e)&&o.JsonUtils.isExists(e.id)&&(this.id=e.id,this.internalId=String(e.id))},e.prototype.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},e}();t.DataObject=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.control=e}return Object.defineProperty(e.prototype,"modelManipulator",{get:function(){return this.control.modelManipulator},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.control.history},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state||(this._state=this.getState()),this._state},enumerable:!0,configurable:!0}),e.prototype.execute=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!!this.state.enabled&&this.executeInternal.apply(this,e)},e.prototype.isEnabled=function(){return this.control.settings.editing.enabled},e.prototype.executeInternal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Not implemented")},e}();t.CommandBase=o;var i=function(e,t){this.visible=!0,this.enabled=e,this.value=t};t.SimpleCommandState=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(){this._items=new Array,this._isGanttCollection=!0}return e.prototype.add=function(e){if(o.JsonUtils.isExists(e)){if(this.getItemById(e.internalId))throw"The collection item with id ='"+e.internalId+"' already exists.";this._items.push(e)}},e.prototype.addRange=function(e){for(var t=0;t<e.length;t++)this.add(e[t])},e.prototype.remove=function(e){var t=this._items.indexOf(e);t>-1&&t<this._items.length&&this._items.splice(t,1)},e.prototype.clear=function(){this._items.splice(0,this._items.length)},Object.defineProperty(e.prototype,"items",{get:function(){return this._items.slice()},set:function(e){e&&(this._items=e.slice())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),e.prototype.getItem=function(e){return e>-1&&e<this._items.length?this._items[e]:null},e.prototype.getItemById=function(e){return this._items.filter((function(t){return t.internalId===e}))[0]},e.prototype.getItemByPublicId=function(e){return this._items.filter((function(t){return t.id===e||t.id.toString()===e}))[0]},e.prototype.assign=function(e){o.JsonUtils.isExists(e)&&(this.items=e.items)},e.prototype.importFromObject=function(e){o.JsonUtils.isExists(e)&&(this.clear(),e._isGanttCollection?this.assign(e):e instanceof Array?this.importFromArray(e):this.createItemFromObjectAndAdd(e))},e.prototype.createItemFromObjectAndAdd=function(e){if(o.JsonUtils.isExists(e)){var t=this.createItem();t.assignFromObject(e),this.add(t)}},e.prototype.importFromArray=function(e){for(var t=0;t<e.length;t++)this.createItemFromObjectAndAdd(e[t])},e.prototype.importFromJSON=function(e){this.importFromObject(o.JsonUtils.evalJson(e))},e}();t.CollectionBase=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.TenMinutes=0]="TenMinutes",e[e.Hours=1]="Hours",e[e.SixHours=2]="SixHours",e[e.Days=3]="Days",e[e.Weeks=4]="Weeks",e[e.Months=5]="Months",e[e.Quarter=6]="Quarter",e[e.Years=7]="Years",e[e.FiveYears=8]="FiveYears"}(t.ViewType||(t.ViewType={})),function(e){e[e.Left=0]="Left",e[e.Top=1]="Top",e[e.Right=2]="Right",e[e.Bottom=3]="Bottom"}(t.Position||(t.Position={})),function(e){e[e.Inside=0]="Inside",e[e.Outside=1]="Outside",e[e.None=2]="None"}(t.TaskTitlePosition||(t.TaskTitlePosition={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(3),r=n(12),s=n(16);!function(e){e[e.TaskArea=0]="TaskArea",e[e.TaskEdit_Frame=1]="TaskEdit_Frame",e[e.TaskEdit_Progress=2]="TaskEdit_Progress",e[e.TaskEdit_Start=3]="TaskEdit_Start",e[e.TaskEdit_End=4]="TaskEdit_End",e[e.TaskEdit_DependencyStart=5]="TaskEdit_DependencyStart",e[e.TaskEdit_DependencyFinish=6]="TaskEdit_DependencyFinish",e[e.Successor_Wrapper=7]="Successor_Wrapper",e[e.Successor_DependencyStart=8]="Successor_DependencyStart",e[e.Successor_DependencyFinish=9]="Successor_DependencyFinish"}(t.MouseEventSource||(t.MouseEventSource={}));var a=function(){function e(e){this.ganttView=e,this.eventManager=e.eventManager,this.mousePosition=new i.Point(-1,-1),this.initMouseEvents()}return e.prototype.initMouseEvents=function(){var e=this;this.ganttView.taskArea.addEventListener("click",(function(t){e.onTaskAreaClick(t)})),this.ganttView.taskArea.addEventListener("scroll",this.ganttView.updateView.bind(this.ganttView)),this.ganttView.taskArea.addEventListener("contextmenu",(function(t){e.onContextMenu(t)})),this.ganttView.taskArea.addEventListener(o.DomUtils.getMouseWheelEventName(),(function(t){e.onMouseWheel(t)})),this.ganttView.taskArea.addEventListener("mousedown",(function(t){e.onMouseDown(t)})),document.addEventListener("mousemove",(function(t){e.onDocumentMouseMove(t)})),document.addEventListener("mouseup",(function(t){e.onDocumentMouseUp(t)})),document.addEventListener("keydown",(function(t){e.onDocumentKeyDown(t)}))},e.prototype.onMouseDown=function(e){this.eventManager.onMouseDown(e),this.preventSelect=!1,this.mousePosition=new i.Point(e.clientX,e.clientY)},e.prototype.onDocumentMouseUp=function(e){var t=this;this.ganttView.isFocus=!!o.DomUtils.GetIsParent(this.ganttView.taskArea,o.DomUtils.getEventSource(e)),this.ganttView.isFocus&&!this.preventSelect&&this.ganttView.settings.allowSelectTask&&!this.isConnectorLine(e)&&setTimeout((function(){t.changeTaskSelection(t.getClickedTaskIndex(e))}),0),this.eventManager.onMouseUp(e)},e.prototype.onDocumentMouseMove=function(e){this.mousePosition.x==e.clientX&&this.mousePosition.y==e.clientY||(this.eventManager.onMouseMove(e),this.preventSelect=!0)},e.prototype.onMouseWheel=function(e){this.eventManager.onMouseWheel(e)},e.prototype.onDocumentKeyDown=function(e){this.eventManager.onKeyDown(e)},e.prototype.onContextMenu=function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),r.Browser.WebKitFamily&&(e.returnValue=!1),this.ganttView.ganttOwner.showPopupMenu(new i.Point(o.DomUtils.getEventX(e),o.DomUtils.getEventY(e)))},e.prototype.getClickedTaskIndex=function(e){var t=o.DomUtils.getEventY(e)-o.DomUtils.getAbsolutePositionY(this.ganttView.taskArea);return Math.floor(t/this.ganttView.tickSize.height)},e.prototype.onTaskElementHover=function(e){var t=this.getClickedTaskIndex(e);this.ganttView.taskEditController.show(t)},e.prototype.changeTaskSelection=function(e){var t=this.ganttView.viewModel.items[e];t&&(this.ganttView.unselectCurrentSelectedTask(),this.ganttView.ganttOwner.changeGanttTaskSelection(t.task.id,!0),this.ganttView.selectTask(t.task.internalId))},e.prototype.onTaskAreaClick=function(t){var n=new Date(Date.now()),o=this.getClickedTaskIndex(t);if(this.time&&n.getTime()-this.time.getTime()<e.DBLCLICK_INTERVAL){var i=this.ganttView.viewModel.items[o];this.ganttView.commandManager.showTaskEditDialog.execute(i.task)}this.time=n},e.prototype.isConnectorLine=function(e){var t=o.DomUtils.getEventSource(e);return o.DomUtils.getClassNameList(t).indexOf(s.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)>=0||o.DomUtils.getClassNameList(t).indexOf(s.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)>=0},e.DBLCLICK_INTERVAL=300,e}();t.TaskAreaManager=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.modelManipulator=e};t.HistoryItem=r;var s=function(e){function t(){var t=e.call(this,null)||this;return t.historyItems=[],t}return i(t,e),t.prototype.redo=function(){for(var e,t=0;e=this.historyItems[t];t++)e.redo()},t.prototype.undo=function(){for(var e,t=this.historyItems.length-1;e=this.historyItems[t];t--)e.undo()},t.prototype.add=function(e){if(null==e)throw new Error("Can't add null HistoryItem");this.historyItems.push(e)},t}(r);t.CompositionHistoryItem=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){this.start=e,this.end=t};t.DateRange=o},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),s=n(47),a=n(25),c=n(48),u=n(0),l=n(2),h=n(26),p=function(e){function t(t,n,o,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===o&&(o=1),void 0===i&&(i=0);var r=e.call(this)||this;return r._start=null,r._end=null,r._interval=1,r._occurrenceCount=0,r._dayOfWeek=0,r._day=1,r._dayOfWeekOccurrence=0,r._month=0,r._calculateByDayOfWeek=!1,r.start=t,r.end=n,r.interval=o,r.occurrenceCount=i,r}return i(t,e),t.prototype.assignFromObject=function(t){u.JsonUtils.isExists(t)&&(e.prototype.assignFromObject.call(this,t),this.start=l.DateTimeUtils.convertToDate(t.start),this.end=l.DateTimeUtils.convertToDate(t.end),u.JsonUtils.isExists(t.interval)&&(this.interval=t.interval),u.JsonUtils.isExists(t.occurrenceCount)&&(this.occurrenceCount=t.occurrenceCount),u.JsonUtils.isExists(t.dayOfWeek)&&(this.dayOfWeekInternal=h.RecurrenceFactory.getEnumValue(s.DayOfWeek,t.dayOfWeek)),u.JsonUtils.isExists(t.day)&&(this.dayInternal=t.day),u.JsonUtils.isExists(t.dayOfWeekOccurrence)&&(this.dayOfWeekOccurrenceInternal=h.RecurrenceFactory.getEnumValue(a.DayOfWeekMonthlyOccurrence,t.dayOfWeekOccurrence)),u.JsonUtils.isExists(t.month)&&(this.monthInternal=h.RecurrenceFactory.getEnumValue(c.Month,t.month)),u.JsonUtils.isExists(t.calculateByDayOfWeek)&&(this._calculateByDayOfWeek=!!t.calculateByDayOfWeek))},t.prototype.calculatePoints=function(e,t){if(!e||!t)return new Array;var n=l.DateTimeUtils.getMaxDate(e,this._start),o=l.DateTimeUtils.getMinDate(t,this._end);return this._occurrenceCount>0?this.calculatePointsByOccurrenceCount(n,o):this.calculatePointsByDateRange(n,o)},t.prototype.calculatePointsByOccurrenceCount=function(e,t){for(var n=new Array,o=this.getFirstPoint(e);o&&n.length<this._occurrenceCount&&l.DateTimeUtils.compareDates(o,t)>=0;)this.isRecurrencePoint(o)&&n.push(o),o=this.getNextPoint(o);return n},t.prototype.calculatePointsByDateRange=function(e,t){for(var n=new Array,o=this.getFirstPoint(e);o&&l.DateTimeUtils.compareDates(o,t)>=0;)this.isRecurrencePoint(o)&&n.push(o),o=this.getNextPoint(o);return n},t.prototype.getFirstPoint=function(e){return this.isRecurrencePoint(e)?e:this.getNextPoint(e)},t.prototype.isRecurrencePoint=function(e){return this.isDateInRange(e)&&this.checkDate(e)&&(!this.useIntervalInCalc()||this.checkInterval(e))},t.prototype.isDateInRange=function(e){return!!e&&(!(this._start&&l.DateTimeUtils.compareDates(this.start,e)<0)&&!(0==this._occurrenceCount&&this.end&&l.DateTimeUtils.compareDates(e,this.end)<0))},t.prototype.useIntervalInCalc=function(){return this.interval>1&&!!this._start},t.prototype.getNextPoint=function(e){return this.isDateInRange(e)?this.useIntervalInCalc()?this.calculatePointByInterval(e):this.calculateNearestPoint(e):null},t.prototype.getSpecDayInMonth=function(e,t){return this._calculateByDayOfWeek?l.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal,e,t,this.dayOfWeekOccurrenceInternal):new Date(e,t,this.dayInternal)},Object.defineProperty(t.prototype,"dayInternal",{get:function(){return this._day},set:function(e){e>0&&e<=31&&(this._day=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekInternal",{get:function(){return this._dayOfWeek},set:function(e){e>=s.DayOfWeek.Sunday&&e<=s.DayOfWeek.Saturday&&(this._dayOfWeek=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrenceInternal",{get:function(){return this._dayOfWeekOccurrence},set:function(e){e>=a.DayOfWeekMonthlyOccurrence.First&&e<=a.DayOfWeekMonthlyOccurrence.Last&&(this._dayOfWeekOccurrence=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthInternal",{get:function(){return this._month},set:function(e){e>=c.Month.January&&e<=c.Month.December&&(this._month=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(e){e&&(this._start=e,this._end&&e>this._end&&(this._end=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._end},set:function(e){e&&(this._end=e,this._start&&e<this._start&&(this._start=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"occurrenceCount",{get:function(){return this._occurrenceCount},set:function(e){e<0&&(e=0),this._occurrenceCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interval",{get:function(){return this._interval},set:function(e){e>0&&(this._interval=e)},enumerable:!0,configurable:!0}),t}(r.DataObject);t.RecurrenceBase=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.IdentUserAgent=function(t,n){void 0===n&&(n=!1);var o=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"],i={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(t&&0!=t.length){t=t.toLowerCase(),e.indentPlatformMajorVersion(t);try{for(var r,s={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"},a="(?:(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?)?",c={Safari:"applewebkit(?:.*?(?:version/(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)(?:/|\\s*)?"+a,Mozilla:"mozilla(?:.*rv:"+a+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+a,Firefox:"firefox(?:/|\\s*)?"+a,Opera:"(?:opera|sopr)(?:/|\\s*)?"+a,Opera10:"opera.*\\s*version(?:/|\\s*)?"+a,IE:"msie\\s*"+a,Edge:"edge(?:/|\\s*)?"+a},u=-1,l=0;l<o.length;l++){var h=o[l],p=new RegExp(c[h],"i");p.compile&&p.compile(c[h],"i");var d=p.exec(t);if(d&&d.index>=0){if("IE"==r&&u>=11&&"Safari"==h)continue;"Opera10"==(r=h)&&(r="Opera");u=e.GetBrowserVersion(t,d,"trident(?:/|\\s*)?(?:(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?)?",e.getIECompatibleVersionString()),"Mozilla"==r&&u>=11&&(r="IE")}}r||(r="IE");var f,y=-1!=u;y||(u=i[r]);var g=Number.MAX_VALUE;for(var m in s)if(s.hasOwnProperty(m)){var T="!"==m.substr(0,1),v=t.indexOf((T?m.substr(1):m).toLowerCase());v>=0&&(v<g||T)&&(g=T?0:v,f=s[m])}var w=t.toUpperCase().match("SM-[A-Z]"),k=w&&w.length>0;"WinPhone"==f&&u<9&&(u=Math.floor(e.getVersionFromTrident(t,"trident(?:/|\\s*)?"+a))),!n&&"IE"==r&&u>7&&document.documentMode<u&&(u=document.documentMode),"WinPhone"==f&&(u=Math.max(9,u)),f||(f="Win"),f!=s["cpu os"]||y||(u=4),e.fillUserAgentInfo(o,r,u,f,k)}catch(t){e.fillUserAgentInfo(o,"IE",i.IE,"Win")}}else e.fillUserAgentInfo(o,"IE",i.IE,"Win")},e.GetBrowserVersion=function(t,n,o,i){var r=e.getVersionFromMatches(n);if(i){var s=e.getVersionFromTrident(t,o);if("edge"===i||parseInt(i)===s)return s}return r},e.getIECompatibleVersionString=function(){if(document.compatible)for(var e=0;e<document.compatible.length;e++)if("IE"===document.compatible[e].userAgent&&document.compatible[e].version)return document.compatible[e].version.toLowerCase();return""},e.fillUserAgentInfo=function(t,n,o,i,r){void 0===r&&(r=!1);for(var s=0;s<t.length;s++){var a=t[s];e[a]=a==n}e.Version=Math.floor(10*o)/10,e.MajorVersion=Math.floor(e.Version),e.WindowsPlatform="Win"==i||"WinPhone"==i,e.MacOSPlatform="Mac"==i,e.MacOSMobilePlatform="MacMobile"==i,e.AndroidMobilePlatform="Android"==i,e.WindowsPhonePlatform="WinPhone"==i,e.WebKitFamily=e.Safari||e.Chrome||e.Opera&&e.MajorVersion>=15,e.NetscapeFamily=e.Netscape||e.Mozilla||e.Firefox,e.HardwareAcceleration=e.IE&&e.MajorVersion>=9||e.Firefox&&e.MajorVersion>=4||e.AndroidMobilePlatform&&e.Chrome||e.Chrome&&e.MajorVersion>=37||e.Safari&&!e.WindowsPlatform||e.Edge||e.Opera&&e.MajorVersion>=46,e.WebKitTouchUI=e.MacOSMobilePlatform||e.AndroidMobilePlatform;var c=e.IE&&e.MajorVersion>9&&e.WindowsPlatform&&e.UserAgent.toLowerCase().indexOf("touch")>=0;if(e.MSTouchUI=c||e.Edge&&!!window.navigator.maxTouchPoints,e.TouchUI=e.WebKitTouchUI||e.MSTouchUI,e.MobileUI=e.WebKitTouchUI||e.WindowsPhonePlatform,e.AndroidDefaultBrowser=e.AndroidMobilePlatform&&!e.Chrome,e.AndroidChromeBrowser=e.AndroidMobilePlatform&&e.Chrome,r&&(e.SamsungAndroidDevice=r),e.MSTouchUI){var u=e.UserAgent.toLowerCase().indexOf("arm;")>-1;e.VirtualKeyboardSupported=u||e.WindowsPhonePlatform}else e.VirtualKeyboardSupported=e.WebKitTouchUI;e.fillDocumentElementBrowserTypeClassNames(t)},e.indentPlatformMajorVersion=function(t){var n=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/.exec(t);n&&(e.PlaformMajorVersion=n[1])},e.prototype.GetBrowserVersion=function(t,n,o,i){var r=e.getVersionFromMatches(n);if(i){var s=e.getVersionFromTrident(t,o);if("edge"===i||parseInt(i)===s)return s}return r},e.getVersionFromMatches=function(e){var t=-1,n="";return e[1]&&(n+=e[1],e[2]&&(n+="."+e[2])),""!=n&&(t=parseFloat(n),isNaN(t)&&(t=-1)),t},e.getVersionFromTrident=function(t,n){var o=new RegExp(n,"i").exec(t);return e.getVersionFromMatches(o)+4},e.fillDocumentElementBrowserTypeClassNames=function(t){for(var n="",o=t.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser"]),i=0;i<o.length;i++){var r=o[i];e[r]&&(n+="dx"+r+" ")}n+="dxBrowserVersion-"+e.MajorVersion,document&&document.documentElement&&(""!=document.documentElement.className&&(n=" "+n),document.documentElement.className+=n,e.Info=n)},e.UserAgent=window.navigator.userAgent.toLowerCase(),e._foo=e.IdentUserAgent(e.UserAgent),e}();t.Browser=o},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),s=n(36),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.createItem=function(){return new s.Resource},t}(r.CollectionBase);t.ResourceCollection=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),s=n(0);!function(e){e[e.FS=0]="FS",e[e.SS=1]="SS",e[e.FF=2]="FF",e[e.SF=3]="SF"}(t.DependencyType||(t.DependencyType={}));var a=function(e){function t(){var t=e.call(this)||this;return t.predecessorId="",t.successorId="",t.type=null,t}return i(t,e),t.prototype.assignFromObject=function(t){s.JsonUtils.isExists(t)&&(e.prototype.assignFromObject.call(this,t),this.internalId=String(t.id),this.predecessorId=String(t.predecessorId),this.successorId=String(t.successorId),this.type=t.type)},t}(r.DataObject);t.Dependency=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){this.width=null,this.height=null,void 0!==e&&(this.width=e),void 0!==t&&(this.height=t)};t.Size=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=n(10),r=n(7),s=n(29),a=n(28),c=n(3),u=n(14),l=function(){function e(){this.tileToDependencyMap=[],this.tileToNoWorkingIntervalsMap=[],this.minLineLength=10,this.resourceMaxWidth=500,this.minTaskWidth=2}return e.prototype.setSettings=function(e,t,n,i,r,s,c){void 0===c&&(c=0),this.visibleTaskAreaSize=e,this.tickSize=t,this.viewType=s,this.range=i,this.verticalTickCount=r.itemCount,this.viewModel=r,this.elementSizeValues=n,this.taskHeight=n.taskHeight,this.milestoneWidth=n.milestoneWidth,this.scaleHeight=n.scaleItemHeight,this.arrowSize=new o.Size(n.connectorArrowWidth,n.connectorArrowWidth),this.lineThickness=n.connectorLineThickness,this.minConnectorSpaceFromTask=(this.tickSize.height-this.taskHeight)/2,this.tickTimeSpan=a.DateUtils.getTickTimeSpan(s),this.horizontalTickCount=this.getTotalTickCount(),this.scrollBarHeight=c,this.createTileToConnectorLinesMap(),this.createTileToNonWorkingIntervalsMap()},e.prototype.getTaskAreaBorderInfo=function(e,t){var n=t?this.getVerticalGridLineHeight():this.tickSize.width*this.horizontalTickCount;return this.getGridBorderInfo(e,t,n)},e.prototype.getScaleBorderInfo=function(e,t){var n=this.getGridBorderInfo(e,!0,this.scaleHeight);return n.position.x*=this.getScaleItemColSpan(t),n},e.prototype.getGridBorderInfo=function(e,t,n){var o=new s.GridElementInfo;return o.setPosition(this.getGridBorderPosition(e,t)),n&&o.setSize(this.getGridBorderSize(t,n)),o.className=t?"dx-gantt-vb":"dx-gantt-hb",o},e.prototype.getGridBorderPosition=function(e,t){var n=new c.Point,o=(e+1)*(t?this.tickSize.width:this.tickSize.height);return t?n.x=o:n.y=o,n},e.prototype.getGridBorderSize=function(e,t){var n=new o.Size;return e?n.height=t:n.width=t,n},e.prototype.getScaleElementInfo=function(e,t){var n=new s.GridElementInfo;return n.setPosition(this.getScaleItemPosition(e,t)),n.setSize(this.getScaleItemSize(t)),n.className=this.getScaleItemClassName(t,n,this.getRenderedNoWorkingIntervals(n.position.x)),n},e.prototype.getScaleItemClassName=function(e,t,n){var o="dx-gantt-si";return e.valueOf()==this.viewType.valueOf()&&this.isScaleItemInsideNoWorkingInterval(t,n)&&(o+=" dx-gantt-holiday-scaleItem"),o},e.prototype.isScaleItemInsideNoWorkingInterval=function(e,t){for(var n=e.position.x,o=e.position.x+e.size.width,i=0;i<t.length;i++){var r=t[i].position.x,s=t[i].position.x+t[i].size.width;if(n>=r&&o<=s)return!0}return!1},e.prototype.getScaleItemPosition=function(e,t){return new c.Point(e*this.tickSize.width*this.getScaleItemColSpan(t))},e.prototype.getScaleItemSize=function(e){return new o.Size(this.tickSize.width*this.getScaleItemColSpan(e))},e.prototype.getScaleItemColSpan=function(e){return e.valueOf()==this.viewType.valueOf()?1:this.viewType==r.ViewType.TenMinutes?6:this.viewType==r.ViewType.Hours?24:this.viewType==r.ViewType.SixHours?4:this.viewType==r.ViewType.Days?7:this.viewType==r.ViewType.Weeks?4.29:this.viewType==r.ViewType.Months?12:this.viewType==r.ViewType.Quarter?4:this.viewType==r.ViewType.Years?5:1},e.prototype.getTaskWrapperElementInfo=function(e){var t=new s.GridElementInfo;return t.className=this.getTaskWrapperClassName(e),t.setPosition(this.getTaskWrapperPoint(e)),t.setSize(this.getTaskWrapperSize(e)),t},e.prototype.getTaskWrapperClassName=function(e){var t="dx-gantt-taskWrapper";return this.getTask(e).isMilestone()&&(t="dx-gantt-milestoneWrapper"),this.viewModel.items[e].selected&&(t+=" dx-gantt-selectedTask"),t},e.prototype.getTaskWrapperSize=function(e){var t=this.viewModel.items[e].resources.items.length,n=this.resourceMaxWidth*t,i=this.getTaskWidth(e),r=this.getTaskPoint(e),s=this.tickSize.width*this.horizontalTickCount,a=Math.min(i+n,s-r.x);return new o.Size(a)},e.prototype.getTaskWrapperPoint=function(e){var t=new c.Point(this.getPosByDate(this.getTask(e).start),e*this.tickSize.height);if(this.getTask(e).isMilestone()){var n=this.getTaskHeight(e);t.x-=n/2,t.y+=(this.tickSize.height-n)/2}return t},e.prototype.getTaskElementInfo=function(e){var t=new s.GridElementInfo;return this.getTask(e).isMilestone()||(t.size.width=this.getTaskWidth(e)),t.className=this.getTaskClassName(e,t.size.width),t},e.prototype.getTaskClassName=function(e,t){var n="dx-gantt-task";return this.getTask(e).isMilestone()?n+=" dx-gantt-milestone":t<=this.elementSizeValues.smallTaskWidth&&(n+=" dx-gantt-smallTask"),n},e.prototype.getTaskPoint=function(e){var t=this.getTaskWrapperPoint(e);return this.getTask(e).isMilestone()||(t.y+=this.elementSizeValues.taskWrapperTopPadding),t},e.prototype.getTaskSize=function(e){return new o.Size(this.getTaskWidth(e),this.getTaskHeight(e))},e.prototype.getTaskWidth=function(e){var t=this.getTask(e);return t.isMilestone()?this.getTaskHeight(e):this.getWidthByDateRange(t.start,t.end)},e.prototype.getTaskHeight=function(e){return this.getTask(e).isMilestone()?this.milestoneWidth:this.taskHeight},e.prototype.getTask=function(e){return this.viewModel.items[e].task},e.prototype.getTaskProgressElementInfo=function(e){var t=new s.GridElementInfo;return t.className="dx-gantt-tPrg",t.setSize(this.getTaskProgressSize(e)),t},e.prototype.getTaskProgressSize=function(e){return new o.Size(this.getTaskProgressWidth(e),null)},e.prototype.getTaskProgressWidth=function(e){return this.getTaskWidth(e)*this.getTask(e).progress/100},e.prototype.getTaskTextElementInfo=function(e,t){var n=new s.GridElementInfo;if(n.className=this.getTaskTextElementClassName(t),!t){var o=this.getTaskPoint(e).x;o<this.elementSizeValues.outsideTaskTextDefaultWidth&&(n.size.width=o,n.margins.marginLeft=-o)}return n},e.prototype.getTaskTextElementClassName=function(e){var t="dx-gantt-taskTitle";return t+=e?" dx-gantt-titleIn":" dx-gantt-titleOut"},e.prototype.getTaskResourceElementInfo=function(){var e=new s.GridElementInfo;return e.className="dx-gantt-taskRes",e},e.prototype.getSelectionElementInfo=function(e){return this.getRowElementInfo(e,"dx-gantt-sel")},e.prototype.getSelectionPosition=function(e){var t=new c.Point;return t.y=e*this.tickSize.height,t},e.prototype.getSelectionSize=function(){return new o.Size(this.tickSize.width*this.horizontalTickCount,this.tickSize.height)},e.prototype.getHighlightRowInfo=function(e){return this.getRowElementInfo(e,"dx-gantt-altRow")},e.prototype.getRowElementInfo=function(e,t){var n=new s.GridElementInfo;return n.className=t,n.setPosition(this.getSelectionPosition(e)),n.setSize(this.getSelectionSize()),n},e.prototype.getNoWorkingIntervalInfo=function(e){var t=new s.GridElementInfo;return t.className="dx-gantt-nwi",t.setPosition(this.getNoWorkingIntervalPosition(e.start)),t.setSize(this.getNoWorkingIntervalSize(e)),t},e.prototype.getNoWorkingIntervalPosition=function(e){var t=new c.Point;return t.x=this.getPosByDate(e),t},e.prototype.getNoWorkingIntervalSize=function(e){return new o.Size(this.getWidthByDateRange(e.start,e.end),this.getVerticalGridLineHeight())},e.prototype.getVerticalGridLineHeight=function(){return Math.max(this.visibleTaskAreaSize.height-this.scrollBarHeight,this.tickSize.height*this.verticalTickCount)},e.prototype.getConnectorInfo=function(e,t,n,o){for(var i=new Array,r=this.getConnectorPoints(t,n,o),s=0;s<r.length-1;s++)i.push(this.getConnectorLineInfo(e,r[s],r[s+1],0==s||s==r.length-2));return i.push(this.getArrowInfo(r,i,t,n)),i},e.prototype.getConnectorLineInfo=function(e,t,n,o){var i=new s.GridElementInfo,r=t.x==n.x;return i.className=this.getConnectorClassName(r),i.setPosition(this.getConnectorPosition(t,n)),i.setSize(this.getConnectorSize(t,n,r,o)),i.setAttribute("dependency-id",e),i},e.prototype.getConnectorClassName=function(t){return t?e.CLASSNAMES.CONNECTOR_VERTICAL:e.CLASSNAMES.CONNECTOR_HORIZONTAL},e.prototype.getConnectorPosition=function(e,t){return new c.Point(Math.min(e.x,t.x),Math.min(e.y,t.y))},e.prototype.getConnectorSize=function(e,t,n,i){var r=new o.Size;return n?r.height=Math.abs(t.y-e.y+0):r.width=Math.abs(t.x-e.x+0),r},e.prototype.getArrowInfo=function(e,t,n,o){var i=new s.GridElementInfo,r=this.findArrowLineInfo(t,n,o),a=this.getArrowPosition(e,n,o);return i.className=this.getArrowClassName(a),i.setPosition(this.getArrowPoint(r,a)),i},e.prototype.findArrowLineInfo=function(e,t,n){return e[t<n?e.length-1:0]},e.prototype.getArrowPosition=function(e,t,n){var o=e[t<n?e.length-2:1],i=e[t<n?e.length-1:0];return o.x==i.x?o.y>i.y?r.Position.Top:r.Position.Bottom:o.x>i.x?r.Position.Left:r.Position.Right},e.prototype.getArrowClassName=function(e){var t="dx-gantt-arrow";switch(e){case r.Position.Left:t+=" dx-gantt-LA";break;case r.Position.Top:t+=" dx-gantt-TA";break;case r.Position.Right:t+=" dx-gantt-RA";break;case r.Position.Bottom:t+=" dx-gantt-BA"}return t},e.prototype.getArrowPoint=function(e,t){return new c.Point(this.getArrowX(e,t),this.getArrowY(e,t))},e.prototype.getArrowX=function(e,t){switch(t){case r.Position.Left:return e.position.x-this.arrowSize.width/2;case r.Position.Right:return e.position.x+e.size.width-this.arrowSize.width/2;case r.Position.Top:case r.Position.Bottom:return e.position.x-(this.arrowSize.width-this.lineThickness)/2}},e.prototype.getArrowY=function(e,t){switch(t){case r.Position.Top:return e.position.y-this.arrowSize.height/2;case r.Position.Bottom:return e.position.y+e.size.height-this.arrowSize.height/2;case r.Position.Left:case r.Position.Right:return e.position.y-(this.arrowSize.height-this.lineThickness)/2}},e.prototype.getPosByDate=function(e){return this.getWidthByDateRange(this.range.start,e)},e.prototype.getWidthByDateRange=function(e,t){var n=this.getRangeTickCount(e,t)*this.tickSize.width;return Math.max(n,this.minTaskWidth)},e.prototype.getRangeTickCount=function(e,t){return this.viewType==r.ViewType.Months?this.getRangeTickCountInMonthsViewType(e,t):this.viewType==r.ViewType.Quarter?this.getRangeTickCountInQuarterViewType(e,t):(t.getTime()-e.getTime())/this.tickTimeSpan},e.prototype.getRangeTickCountInMonthsViewType=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),1),o=new Date(t.getFullYear(),t.getMonth(),1);return a.DateUtils.getOffsetInMonths(n,o)+(t.getTime()-o.getTime()-(e.getTime()-n.getTime()))/a.DateUtils.msPerMonth},e.prototype.getRangeTickCountInQuarterViewType=function(e,t){var n=new Date(e.getFullYear(),3*Math.floor(e.getMonth()/3),1),o=new Date(t.getFullYear(),3*Math.floor(t.getMonth()/3),1);return a.DateUtils.getOffsetInQuarters(n,o)+(t.getTime()-o.getTime()-(e.getTime()-n.getTime()))/(3*a.DateUtils.msPerMonth)},e.prototype.getDateByPos=function(e){var t=e/this.tickSize.width,n=new Date(this.range.start);if(this.viewType==r.ViewType.Months||this.viewType==r.ViewType.Quarter){var o=Math.floor(t);n=new Date(n.setMonth(n.getMonth()+(this.viewType==r.ViewType.Months?o:3*o))),t=(e-this.getPosByDate(n))/this.tickSize.width}var i=t*this.tickTimeSpan+n.getTime(),s=new Date;return s.setTime(i),s},e.prototype.getTotalTickCount=function(){return this.getRangeTickCount(this.range.start,this.range.end)},e.prototype.getConnectorPoints=function(e,t,n){switch(n){case u.DependencyType.FS:return this.getFinishToStartConnectorPoints(e,t);case u.DependencyType.SF:return this.getStartToFinishConnectorPoints(e,t);case u.DependencyType.SS:return this.getStartToStartConnectorPoints(e,t);case u.DependencyType.FF:return this.getFinishToFinishConnectorPoints(e,t);default:return new Array}},e.prototype.getFinishToStartConnectorPoints=function(e,t){return e<t?this.getTask(e).end<=this.getTask(t).start?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(e,t,!1):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(e,t,!1):this.getTask(e).end<=this.getTask(t).start?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(t,e,!1):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(t,e,!0)},e.prototype.getFinishToFinishConnectorPoints=function(e,t){return e<t?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(e,t):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(t,e)},e.prototype.getStartToStartConnectorPoints=function(e,t){return e<t?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(e,t):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(t,e)},e.prototype.getStartToFinishConnectorPoints=function(e,t){return e<t?this.getTask(e).start>=this.getTask(t).end?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(e,t,!0):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(e,t,!1):this.getTask(e).start>=this.getTask(t).end?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(t,e,!0):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(t,e,!0)},e.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide=function(e,t,n){var o=new Array,i=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskRightCenter(i,e),a=this.getTask(t).isMilestone(),u=this.getTaskTopCenter(r,t),l=n?this.getTaskWidth(t)-this.minLineLength:this.minLineLength;return o.push(new c.Point(s.x,s.y)),o.push(new c.Point(a?u.x:r.x+l,o[0].y)),o.push(new c.Point(o[1].x,u.y)),o},e.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide=function(e,t){var n=new Array,o=this.getTaskPoint(e),i=this.getTaskPoint(t),r=this.getTaskRightCenter(o,e),s=this.getTaskRightCenter(i,t);return n.push(new c.Point(r.x,r.y)),n.push(new c.Point(Math.max(r.x,s.x)+this.minLineLength,n[0].y)),n.push(new c.Point(n[1].x,s.y)),n.push(new c.Point(s.x,s.y)),n},e.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide=function(e,t,n){var o=new Array,i=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskRightCenter(i,e),a=this.getTaskBottomCenter(i,e),u=this.getTaskLeftCenter(r,t),l=this.getTaskTopCenter(r,t);return o.push(new c.Point(s.x,s.y)),o.push(new c.Point(o[0].x+this.minLineLength,o[0].y)),o.push(new c.Point(o[1].x,n?a.y+this.minConnectorSpaceFromTask:l.y-this.minConnectorSpaceFromTask)),o.push(new c.Point(u.x-this.minLineLength,o[2].y)),o.push(new c.Point(o[3].x,u.y)),o.push(new c.Point(u.x,u.y)),o},e.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide=function(e,t,n){var o=new Array,i=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskBottomCenter(i,e),a=this.getTask(e).isMilestone(),u=this.getTaskRightCenter(r,t),l=n?this.getTaskWidth(e)-this.minLineLength:this.minLineLength;return o.push(new c.Point(a?s.x:i.x+l,s.y)),o.push(new c.Point(o[0].x,u.y)),o.push(new c.Point(u.x,u.y)),o},e.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide=function(e,t,n){var o=new Array,i=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskBottomCenter(i,e),a=this.getTask(e).isMilestone(),u=this.getTaskLeftCenter(r,t),l=n?this.getTaskWidth(e)-this.minLineLength:this.minLineLength;return o.push(new c.Point(a?s.x:i.x+l,s.y)),o.push(new c.Point(o[0].x,u.y)),o.push(new c.Point(u.x,u.y)),o},e.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide=function(e,t,n){var o=new Array,i=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskLeftCenter(i,e),a=this.getTaskTopCenter(r,t),u=this.getTask(t).isMilestone(),l=n?this.getTaskWidth(t)-this.minLineLength:this.minLineLength;return o.push(new c.Point(s.x,s.y)),o.push(new c.Point(u?a.x:r.x+l,o[0].y)),o.push(new c.Point(o[1].x,a.y)),o},e.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide=function(e,t,n){var o=new Array,i=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskLeftCenter(i,e),a=this.getTaskBottomCenter(i,e),u=this.getTaskRightCenter(r,t),l=this.getTaskTopCenter(r,t);return o.push(new c.Point(s.x,s.y)),o.push(new c.Point(o[0].x-this.minLineLength,o[0].y)),o.push(new c.Point(o[1].x,n?a.y+this.minConnectorSpaceFromTask:l.y-this.minConnectorSpaceFromTask)),o.push(new c.Point(u.x+this.minLineLength,o[2].y)),o.push(new c.Point(o[3].x,u.y)),o.push(new c.Point(u.x,u.y)),o},e.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide=function(e,t){var n=new Array,o=this.getTaskPoint(e),i=this.getTaskPoint(t),r=this.getTaskLeftCenter(o,e),s=this.getTaskLeftCenter(i,t);return n.push(new c.Point(r.x,r.y)),n.push(new c.Point(Math.min(r.x,s.x)-this.minLineLength,n[0].y)),n.push(new c.Point(n[1].x,s.y)),n.push(new c.Point(s.x,s.y)),n},e.prototype.getTaskLeftCenter=function(e,t){return new c.Point(e.x-this.getTaskEdgeCorrection(t),e.y+this.getTaskHeight(t)/2)},e.prototype.getTaskRightCenter=function(e,t){return new c.Point(e.x+this.getTaskWidth(t)+this.getTaskEdgeCorrection(t),e.y+this.getTaskHeight(t)/2)},e.prototype.getTaskTopCenter=function(e,t){return new c.Point(e.x+this.getTaskWidth(t)/2,e.y-this.getTaskEdgeCorrection(t))},e.prototype.getTaskBottomCenter=function(e,t){return new c.Point(e.x+this.getTaskWidth(t)/2,e.y+this.getTaskHeight(t)+this.getTaskEdgeCorrection(t))},e.prototype.getTaskEdgeCorrection=function(e){return this.viewModel.items[e].task.isMilestone()?this.getTaskHeight(e)*(Math.sqrt(2)-1)/2:0},e.prototype.getRenderedRowColumnIndices=function(e,t){for(var n=t?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,o=t?this.tickSize.height:this.tickSize.width,i=t?this.verticalTickCount:this.horizontalTickCount,r=this.getFirstVisibleGridCellIndex(e,o),s=this.getLastVisibleGridCellIndex(e,o,n,i),a=new Array,c=r;c<=s;c++)a.push(c);return a},e.prototype.getRenderedScaleItemIndices=function(e,t){for(var n=this.getScaleItemColSpan(e),o=Math.floor(t[0]/n),i=Math.floor(t[t.length-1]/n),r=new Array,s=o;s<=i;s++)r.push(s);return r},e.prototype.getFirstVisibleGridCellIndex=function(e,t){var n=Math.floor(e/t);return n=Math.max(n-10,0)},e.prototype.getLastVisibleGridCellIndex=function(e,t,n,o){var i=Math.floor((e+n)/t);return i=Math.min(i+10,o-1)},e.prototype.createTileToConnectorLinesMap=function(){var e=this;this.tileToDependencyMap=[];for(var t=0;t<this.viewModel.items.length;t++)for(var n=0;n<this.viewModel.items[t].dependencies.length;n++){var o=this.viewModel.items[t].dependencies[n].predecessor.visibleIndex,i=this.viewModel.items[t].visibleIndex,r=this.viewModel.items[t].dependencies[n].type,s=this.viewModel.items[t].dependencies[n].id;this.getConnectorInfo(s,o,i,r).forEach((function(t){e.addElementInfoToTileMap(t,e.tileToDependencyMap,!0)}))}},e.prototype.createTileToNonWorkingIntervalsMap=function(){this.tileToNoWorkingIntervalsMap=[];for(var e=0;e<this.viewModel.noWorkingIntervals.length;e++){var t=this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[e]);if(t){var n=this.getNoWorkingIntervalInfo(t);this.addElementInfoToTileMap(n,this.tileToNoWorkingIntervalsMap,!1)}}},e.prototype.getAdjustedNoWorkingInterval=function(e){return e.end.getTime()-e.start.getTime()<this.tickTimeSpan-1?null:new i.DateRange(a.DateUtils.getNearestScaleTickDate(e.start,this.range,this.tickTimeSpan,this.viewType),a.DateUtils.getNearestScaleTickDate(e.end,this.range,this.tickTimeSpan,this.viewType))},e.prototype.addElementInfoToTileMap=function(e,t,n){for(var o=n?e.position.y:e.position.x,i=n?e.size.height:e.size.width,r=2*(n?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width),s=Math.floor(o/r),a=Math.floor((o+i)/r),c=s;c<=a;c++)t[c]||(t[c]=new Array),t[c].push(e)},e.prototype.getRenderedConnectorLines=function(e){return this.getElementsInRenderedTiles(this.tileToDependencyMap,!0,e)},e.prototype.getRenderedNoWorkingIntervals=function(e){return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap,!1,e)},e.prototype.getElementsInRenderedTiles=function(e,t,n){for(var o=t?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,i=Math.floor(n/(2*o)),r=Math.floor((n+o)/(2*o)),s=new Array,a=i;a<=r;a++)e[a]&&e[a].forEach((function(e){-1==s.indexOf(e)&&s.push(e)}));return s},e.CLASSNAMES={CONNECTOR_VERTICAL:"dx-gantt-conn-v",CONNECTOR_HORIZONTAL:"dx-gantt-conn-h"},e}();t.GridLayoutCalculator=l},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(58),s=function(e,t){this.viewModel=e,this.dispatcher=t};t.BaseManipulator=s;var a=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.title=new u(t,n),o.description=new l(t,n),o.progress=new h(t,n),o.start=new p(t,n),o.end=new d(t,n),o}return i(t,e),t}(s);t.TaskPropertiesManipulator=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.setValue=function(e,t){var n=this.viewModel.tasks.getItemById(e),o=new r.HistoryItemState(e,this.getPropertyValue(n));return this.setPropertyValue(n,t),this.viewModel.owner.resetAndUpdate(),o},t.prototype.restoreValue=function(e){if(e){var t=e.value,n=this.viewModel.tasks.getItemById(e.taskId);this.setPropertyValue(n,t),this.viewModel.owner.resetAndUpdate()}},t}(s);t.TaskPropertyManipulator=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getPropertyValue=function(e){return e.title},t.prototype.setPropertyValue=function(e,t){e.title=t,this.dispatcher.notifyTaskTitleChanged(e.id,t)},t}(c),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getPropertyValue=function(e){return e.description},t.prototype.setPropertyValue=function(e,t){e.description=t,this.dispatcher.notifyTaskDescriptionChanged(e.id,t)},t}(c),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getPropertyValue=function(e){return e.progress},t.prototype.setPropertyValue=function(e,t){t=t<0?0:t>100?100:t,e.progress=t,this.dispatcher.notifyTaskProgressChanged(e.id,t)},t}(c),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getPropertyValue=function(e){return e.start},t.prototype.setPropertyValue=function(e,t){e.start=t,this.dispatcher.notifyTaskStartChanged(e.id,t)},t}(c),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getPropertyValue=function(e){return e.end},t.prototype.setPropertyValue=function(e,t){e.end=t,this.dispatcher.notifyTaskEndChanged(e.id,t)},t}(c)},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(66),s=n(3),a=n(1),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onMouseDoubleClick=function(e){},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseMove=function(e){},t.prototype.onMouseWheel=function(e){},t.prototype.getRelativePos=function(e){var t=a.DomUtils.getAbsolutePositionX(this.handler.control.taskArea),n=a.DomUtils.getAbsolutePositionY(this.handler.control.taskArea);return new s.Point(e.x-t,e.y-n)},t}(r.HandlerStateBase);t.MouseHandlerStateBase=c},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),s=n(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onMouseDown=function(e){this.currentPosition=new r.Point(s.DomUtils.getEventX(e),s.DomUtils.getEventY(e))},t.prototype.onMouseUp=function(e){this.onMouseUpInternal(e),this.handler.switchToDefaultState()},t.prototype.onMouseMove=function(e){e.preventDefault();var t=new r.Point(s.DomUtils.getEventX(e),s.DomUtils.getEventY(e));this.onMouseMoveInternal(t),this.currentPosition=t},t.prototype.onMouseUpInternal=function(e){},t.prototype.onMouseMoveInternal=function(e){},t}(n(18).MouseHandlerStateBase);t.MouseHandlerDragBaseState=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),s=function(e){function t(t,n,o,i){var r=e.call(this,t)||this;return r.predecessorId=n,r.successorId=o,r.type=i,r}return i(t,e),t.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.insertDependency(this.predecessorId,this.successorId,this.type,this.dependency?this.dependency.internalId:null)},t.prototype.undo=function(){this.modelManipulator.dependency.removeDependency(this.dependency.internalId)},t}(r.HistoryItem);t.InsertDependencyHistoryItem=s;var a=function(e){function t(t,n){var o=e.call(this,t)||this;return o.dependencyId=n,o}return i(t,e),t.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.removeDependency(this.dependencyId)},t.prototype.undo=function(){this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId,this.dependency.successorId,this.dependency.type,this.dependencyId)},t}(r.HistoryItem);t.RemoveDependencyHistoryItem=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),s=function(e){function t(t,n){var o=e.call(this,t)||this;return o.text=n,o}return i(t,e),t.prototype.redo=function(){this.resource=this.modelManipulator.resource.create(this.text,this.resource?this.resource.internalId:null)},t.prototype.undo=function(){this.modelManipulator.resource.remove(this.resource.internalId)},t}(r.HistoryItem);t.CreateResourceHistoryItem=s;var a=function(e){function t(t,n){var o=e.call(this,t)||this;return o.resourceId=n,o}return i(t,e),t.prototype.redo=function(){this.resource=this.modelManipulator.resource.remove(this.resourceId)},t.prototype.undo=function(){this.modelManipulator.resource.create(this.resource.text,this.resourceId)},t}(r.HistoryItem);t.RemoveResourceHistoryItem=a;var c=function(e){function t(t,n,o){var i=e.call(this,t)||this;return i.resourceId=n,i.taskId=o,i}return i(t,e),t.prototype.redo=function(){this.assignment=this.modelManipulator.resource.assign(this.resourceId,this.taskId,this.assignment?this.assignment.internalId:null)},t.prototype.undo=function(){this.modelManipulator.resource.deassig(this.assignment.internalId)},t}(r.HistoryItem);t.AssignResourceHistoryItem=c;var u=function(e){function t(t,n){var o=e.call(this,t)||this;return o.assignmentId=n,o}return i(t,e),t.prototype.redo=function(){this.assignment=this.modelManipulator.resource.deassig(this.assignmentId)},t.prototype.undo=function(){this.modelManipulator.resource.assign(this.assignment.resourceId,this.assignment.taskId,this.assignmentId)},t}(r.HistoryItem);t.DeassignResourceHistoryItem=u},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.executeInternal=function(e){var t=this,n=this.createParameters(e),o=n.clone();return this.control.ganttOwner.showDialog(this.getDialogName(),n,(function(e){e&&t.applyParameters(e,o)}),(function(){t.afterClosing()})),!0},t.prototype.applyParameters=function(e,t){return!1},t.prototype.afterClosing=function(){},t.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},t}(r.CommandBase);t.DialogBase=s;var a=function(){};t.DialogParametersBase=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=0),this._hour=0,this._min=0,this._sec=0,this._msec=0,this._fullmsec=0,this.hour=e,this.min=t,this.sec=n,this.msec=o}return Object.defineProperty(e.prototype,"hour",{get:function(){return this._hour},set:function(e){e>=0&&e<24&&(this._hour=e,this.updateFullMilleconds())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(e){e>=0&&e<60&&(this._min=e,this.updateFullMilleconds())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sec",{get:function(){return this._sec},set:function(e){e>=0&&e<60&&(this._sec=e,this.updateFullMilleconds())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"msec",{get:function(){return this._msec},set:function(e){e>=0&&e<1e3&&(this._msec=e,this.updateFullMilleconds())},enumerable:!0,configurable:!0}),e.prototype.updateFullMilleconds=function(){var e=60*(60*this._hour+this._min)+this._sec;this._fullmsec=1e3*e+this._msec},e.prototype.getTimeInMilleconds=function(){return this._fullmsec},e}();t.Time=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=function(){function e(e,t){o.DateTimeUtils.caclTimeDifference(e,t)>=0?(this._start=e,this._end=t):(this._start=t,this._end=e)}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},set:function(e){e&&o.DateTimeUtils.caclTimeDifference(e,this._end)>=0&&(this._start=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},set:function(e){e&&o.DateTimeUtils.caclTimeDifference(this._start,e)>=0&&(this._end=e)},enumerable:!0,configurable:!0}),e.prototype.isTimeInRange=function(e){return o.DateTimeUtils.caclTimeDifference(this._start,e)>=0&&o.DateTimeUtils.caclTimeDifference(e,this._end)>=0},e.prototype.hasIntersect=function(e){return this.isTimeInRange(e.start)||this.isTimeInRange(e.end)||e.isTimeInRange(this.start)||e.isTimeInRange(this.end)},e.prototype.concatWith=function(e){return!!this.hasIntersect(e)&&(this.start=o.DateTimeUtils.getMinTime(this.start,e.start),this.end=o.DateTimeUtils.getMaxTime(this.end,e.end),!0)},e}();t.TimeRange=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.First=0]="First",e[e.Second=1]="Second",e[e.Third=2]="Third",e[e.Forth=3]="Forth",e[e.Last=4]="Last"}(t.DayOfWeekMonthlyOccurrence||(t.DayOfWeekMonthlyOccurrence={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(27),r=n(49),s=n(50),a=n(52),c=function(){function e(){}return e.createRecurrenceByType=function(e){if(!e)return null;switch(e.toLowerCase()){case"daily":return new i.Daily;case"weekly":return new r.Weekly;case"monthly":return new s.Monthly;case"yearly":return new a.Yearly}return null},e.createRecurrenceFromObject=function(e){if(!e)return null;var t=this.createRecurrenceByType(e.type);return t&&t.assignFromObject(e),t},e.getEnumValue=function(e,t){if(!o.JsonUtils.isExists(e[t]))return null;var n=parseInt(t);return isNaN(n)?e[t]:n},e}();t.RecurrenceFactory=c},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),s=n(2),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.checkDate=function(e){return!0},t.prototype.checkInterval=function(e){return s.DateTimeUtils.getDaysBetween(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=this.interval;return this.isRecurrencePoint(e)||(t-=s.DateTimeUtils.getDaysBetween(this.start,e)%this.interval),s.DateTimeUtils.addDays(e,t)},t.prototype.calculateNearestPoint=function(e){return s.DateTimeUtils.addDays(e,1)},t}(r.RecurrenceBase);t.Daily=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(1),r=function(){function e(){}var t;return e.getDaysInMonth=function(e,t){return new Date(t,e+1,0).getDate()},e.getOffsetInMonths=function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},e.getOffsetInQuarters=function(e,t){return 4*(t.getFullYear()-e.getFullYear())+Math.floor(t.getMonth()/3)-Math.floor(e.getMonth()/3)},e.getNearestScaleTickDate=function(e,t,n,o){var i=new Date,r=t.start.getTime(),s=t.end.getTime();if(i.setTime(e.getTime()),e.getTime()<r)i.setTime(r);else if(e.getTime()>s)i.setTime(s);else if(this.needCorrectDate(e,r,n,o)){var a=this.getNearestLeftTickTime(e,r,n,o),c=this.getNextTickTime(a,n,o);Math.abs(e.getTime()-a)>Math.abs(e.getTime()-c)?i.setTime(c):i.setTime(a)}return i},e.needCorrectDate=function(e,t,n,i){return i==o.ViewType.Months?e.getTime()!==new Date(e.getFullYear(),e.getMonth(),1).getTime():(e.getTime()-t)%n!=0},e.getNearestLeftTickTime=function(e,t,n,i){return i==o.ViewType.Months?new Date(e.getFullYear(),e.getMonth(),1).getTime():t+Math.floor((e.getTime()-t)/n)*n},e.getNextTickTime=function(e,t,n){if(n==o.ViewType.Months){var i=new Date;return i.setTime(e),i.setMonth(i.getMonth()+1),i.getTime()}return e+t},e.adjustStartEndDateByViewType=function(e,t,n){var i=new Date;switch(n){case o.ViewType.TenMinutes:i=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()),e.getTime()===i.getTime()||t||(i=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+1));break;case o.ViewType.SixHours:case o.ViewType.Hours:i=new Date(e.getFullYear(),e.getMonth(),e.getDate()),e.getTime()===i.getTime()||t||(i=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1));break;case o.ViewType.Days:case o.ViewType.Weeks:i=new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()),e.getTime()===i.getTime()||t||(i=new Date(e.getFullYear(),e.getMonth(),e.getDate()+7-e.getDay()));break;case o.ViewType.Months:case o.ViewType.Quarter:case o.ViewType.Years:i=new Date(e.getFullYear(),0,1),e.getTime()===i.getTime()||t||(i=new Date(e.getFullYear()+1,0,1))}return i},e.getTickTimeSpan=function(t){switch(t){case o.ViewType.TenMinutes:return e.msPerHour/6;case o.ViewType.Hours:return e.msPerHour;case o.ViewType.SixHours:return 6*e.msPerHour;case o.ViewType.Days:return e.msPerDay;case o.ViewType.Weeks:return e.msPerWeek;case o.ViewType.Months:return e.msPerMonth;case o.ViewType.Quarter:return 3*e.msPerMonth;case o.ViewType.Years:return 12*e.msPerMonth}},e.msPerHour=36e5,e.msPerDay=24*e.msPerHour,e.msPerWeek=7*e.msPerDay,e.msPerMonth=30*e.msPerDay,e.ViewTypeToScaleMap=((t={})[o.ViewType.TenMinutes]=o.ViewType.Hours,t[o.ViewType.Hours]=o.ViewType.Days,t[o.ViewType.SixHours]=o.ViewType.Days,t[o.ViewType.Days]=o.ViewType.Weeks,t[o.ViewType.Weeks]=o.ViewType.Months,t[o.ViewType.Months]=o.ViewType.Years,t[o.ViewType.Quarter]=o.ViewType.Years,t[o.ViewType.Years]=o.ViewType.FiveYears,t),e}();t.DateUtils=r;var s=function(){function e(){this.longestAbbrMonthName=null,this.longestMonthName=null,this.longestAbbrDayName=null;var e=document.createElement("canvas");this.textMeasureContext=e.getContext("2d")}return e.prototype.setFont=function(e){var t=i.DomUtils.getCurrentStyle(e),n=t.font?t.font:t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+t.fontSize+" / "+t.lineHeight+" "+t.fontFamily;this.textMeasureContext.font=n},e.prototype.setSettings=function(e,t,n){this.startTime=e,this.viewType=t,this.modelItems=n},e.prototype.getScaleItemStartDate=function(e,t){var n=new Date(this.startTime);switch(t){case o.ViewType.TenMinutes:n.setTime(this.startTime+e*r.msPerHour/6);break;case o.ViewType.Hours:n.setTime(this.startTime+e*r.msPerHour);break;case o.ViewType.SixHours:n.setTime(this.startTime+e*r.msPerHour*6);break;case o.ViewType.Days:n.setTime(this.startTime+e*r.msPerDay);break;case o.ViewType.Weeks:n.setTime(this.startTime+e*r.msPerWeek);break;case o.ViewType.Months:n.setMonth(n.getMonth()+e);break;case o.ViewType.Quarter:n.setMonth(n.getMonth()+3*e);break;case o.ViewType.Years:n.setFullYear(n.getFullYear()+e);break;case o.ViewType.FiveYears:n.setFullYear(n.getFullYear()+5*e)}return n},e.prototype.getScaleItemText=function(e,t){var n=this.getScaleItemStartDate(e,t),i=this.viewType.valueOf()==t.valueOf();switch(t){case o.ViewType.TenMinutes:return this.getTenMinutesScaleItemText(n);case o.ViewType.Hours:case o.ViewType.SixHours:return this.getHoursScaleItemText(n);case o.ViewType.Days:return this.getDaysScaleItemText(n,i);case o.ViewType.Weeks:return this.getWeeksScaleItemText(n,i);case o.ViewType.Months:return this.getMonthsScaleItemText(n,i);case o.ViewType.Quarter:return this.getQuarterScaleItemText(n,i);case o.ViewType.Years:return this.getYearsScaleItemText(n);case o.ViewType.FiveYears:return this.getFiveYearsScaleItemText(n)}},e.prototype.getTenMinutesScaleItemText=function(e){var t=e.getMinutes()+1;return(10*Math.ceil(t/10)).toString()},e.prototype.getThirtyMinutesScaleItemText=function(e){return e.getMinutes()<30?"30":"60"},e.prototype.getHoursScaleItemText=function(e){var t=e.getHours(),n=this.getHourDisplayText(t),o=t<12?this.getAmText():this.getPmText();return this.getHoursScaleItemTextCore(n,o)},e.prototype.getDaysScaleItemText=function(e,t){return this.getDayTotalText(e,!0,t,t,!t)},e.prototype.getWeeksScaleItemText=function(e,t){var n=new Date(e.getTime()+r.msPerWeek-r.msPerDay);return this.getWeeksScaleItemTextCore(this.getDayTotalText(e,t,!0,t,!t),this.getDayTotalText(n,t,!0,t,!t))},e.prototype.getMonthsScaleItemText=function(e,t){var n=this.getMonthNames(),o=t?"":e.getFullYear().toString();return this.getMonthsScaleItemTextCore(n[e.getMonth()],o)},e.prototype.getQuarterScaleItemText=function(e,t){var n=this.getQuarterNames(),o=t?"":e.getFullYear().toString();return this.getMonthsScaleItemTextCore(n[Math.floor(e.getMonth()/3)],o)},e.prototype.getYearsScaleItemText=function(e){return e.getFullYear().toString()},e.prototype.getFiveYearsScaleItemText=function(e){return e.getFullYear().toString()+" - "+(e.getFullYear()+4).toString()},e.prototype.getHourDisplayText=function(e){return this.hasAmPm()?(0==e?12:e<=12?e:e-12).toString():e<10?"0"+e:e.toString()},e.prototype.getDayTotalText=function(e,t,n,o,i){var r=o?this.getAbbrMonthNames():this.getMonthNames(),s=n?this.getAbbrDayNames():this.getDayNames(),a=t?s[e.getDay()]:"",c=e.getDate(),u=r[e.getMonth()],l=i?e.getFullYear().toString():"";return this.getDayTotalTextCore(a,c.toString(),u,l)},e.prototype.getTaskText=function(e){var t=this.modelItems[e];return t?t.task.title:""},e.prototype.getTaskVisibility=function(e){var t=this.modelItems[e];return!!t&&t.getVisible()},e.prototype.hasAmPm=function(){return this.getAmText().length>0||this.getPmText().length>0},e.prototype.getScaleItemTextTemplate=function(e){switch(e){case o.ViewType.TenMinutes:return"00";case o.ViewType.Hours:case o.ViewType.SixHours:return this.getHoursScaleItemTextCore("00",this.getAmText());case o.ViewType.Days:return this.getDayTextTemplate();case o.ViewType.Weeks:return this.getWeekTextTemplate();case o.ViewType.Months:return this.getMonthsScaleItemTextCore(this.getLongestMonthName(),"");case o.ViewType.Quarter:return"Q4";case o.ViewType.Years:return"0000"}},e.prototype.getDayTextTemplate=function(){return this.getDayTotalTextCore(this.getLongestAbbrDayName(),"00",this.getLongestAbbrMonthName(),"")},e.prototype.getWeekTextTemplate=function(){var e=this.getDayTextTemplate();return this.getWeeksScaleItemTextCore(e,e)},e.prototype.getHoursScaleItemTextCore=function(e,t){return e+":00"+(this.hasAmPm()?" "+t:"")},e.prototype.getDayTotalTextCore=function(e,t,n,o){var i=e.length>0?e+", ":"";return i+=t+" "+n,i+=o.length>0?" "+o:""},e.prototype.getWeeksScaleItemTextCore=function(e,t){return e+" - "+t},e.prototype.getMonthsScaleItemTextCore=function(e,t){var n=e;return t.length>0&&(n+=" "+t),n},e.prototype.getLongestAbbrMonthName=function(){return null==this.longestAbbrMonthName&&(this.longestAbbrMonthName=this.getLongestText(this.getAbbrMonthNames())),this.longestAbbrMonthName},e.prototype.getLongestMonthName=function(){return null==this.longestMonthName&&(this.longestMonthName=this.getLongestText(this.getMonthNames())),this.longestMonthName},e.prototype.getLongestAbbrDayName=function(){return null==this.longestAbbrDayName&&(this.longestAbbrDayName=this.getLongestText(this.getAbbrDayNames())),this.longestAbbrDayName},e.prototype.getLongestText=function(e){var t=this,n="",o=0;return e.forEach((function(e){var i=t.getTextWidth(e);i>o&&(o=i,n=e)})),n},e.prototype.getTextWidth=function(e){return Math.round(this.textMeasureContext.measureText(e).width)},e.prototype.getAmText=function(){return"AM"},e.prototype.getPmText=function(){return"PM"},e.prototype.getQuarterNames=function(){return["Q1","Q2","Q3","Q4"]},e.prototype.getMonthNames=function(){return["January","February","March","April","May","June","July","August","September","October","November","December",""]},e.prototype.getDayNames=function(){return["Sunday","Monday","ASP","Wednesday","Thursday","Friday","Saturday"]},e.prototype.getAbbrMonthNames=function(){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},e.prototype.getAbbrDayNames=function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},e}();t.ElementTextHelper=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(15),r=n(54),s=function(){function e(t,n,s){this.id=e.id++,this.position=new o.Point,this.size=new i.Size,this.margins=new r.Margins,this.attr={},t&&(this.className=t),n&&this.setPosition(n),s&&this.setSize(s)}return e.prototype.setSize=function(e){this.size.width=e.width,this.size.height=e.height},e.prototype.setPosition=function(e){this.position.x=e.x,this.position.y=e.y},e.prototype.assignToElement=function(e){this.assignPosition(e),this.assignSize(e),this.assignMargins(e),this.className&&(e.className=this.className)},e.prototype.assignPosition=function(e){null!=this.position.x&&(e.style.left=this.position.x+"px"),null!=this.position.y&&(e.style.top=this.position.y+"px")},e.prototype.assignSize=function(e){this.size.width&&(e.style.width=this.size.width+"px"),this.size.height&&(e.style.height=this.size.height+"px")},e.prototype.assignMargins=function(e){this.margins.marginLeft&&(e.style.marginLeft=this.margins.marginLeft+"px"),this.margins.marginTop&&(e.style.marginTop=this.margins.marginTop+"px"),this.margins.marginRight&&(e.style.marginRight=this.margins.marginRight+"px"),this.margins.marginBottom&&(e.style.marginBottom=this.margins.marginBottom+"px")},e.prototype.setAttribute=function(e,t){this.attr[e]=t},e.id=0,e}();t.GridElementInfo=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),i=n(7),r=n(10),s=n(1),a=function(){function e(e){this.taskIndex=-1,this.successorIndex=-1,this.editing=!1,this.gantt=e,this.createElements(),this.createClassToSourceMap()}return Object.defineProperty(e.prototype,"taskId",{get:function(){return this.gantt.viewModel.items[this.taskIndex].task.internalId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"successorId",{get:function(){return this.gantt.viewModel.items[this.successorIndex].task.internalId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"task",{get:function(){return this.gantt.viewModel.items[this.taskIndex].task},enumerable:!0,configurable:!0}),e.prototype.show=function(t){!this.editing&&this.gantt.settings.editing.enabled&&(this.taskIndex=t,this.updateWrapInfo(),this.wrapInfo.assignPosition(this.baseElement),this.wrapInfo.assignSize(this.baseElement),this.gantt.taskArea.appendChild(this.baseElement),this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.task.isMilestone()?this.baseElement.className=this.baseElement.className+" milestone":(this.gantt.settings.editing.allowDependencyAdding||(this.baseElement.className=this.baseElement.className+" hide-dependency"),this.gantt.settings.editing.allowTaskUpdating||(this.baseElement.className=this.baseElement.className+" hide-updating"),this.progressEdit.style.left=this.task.progress/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px"),this.taskDateRange=new r.DateRange(this.task.start,this.task.end))},e.prototype.updateWrapInfo=function(){this.wrapInfo=this.gantt.gridLayoutCalculator.getTaskWrapperElementInfo(this.taskIndex),this.wrapInfo.size.width=this.gantt.gridLayoutCalculator.getTaskWidth(this.taskIndex),this.wrapInfo.position.x--,this.task.isMilestone()&&(this.wrapInfo.position.y=this.gantt.gridLayoutCalculator.getSelectionPosition(this.taskIndex).y)},e.prototype.hide=function(){var e=this.baseElement.parentNode;e&&e.removeChild(this.baseElement)},e.prototype.showDependencySuccessor=function(e){if(this.successorIndex!=e&&this.taskIndex!=e){this.successorIndex=e;var t=this.gantt.gridLayoutCalculator.getTaskWrapperElementInfo(e);t.size.width=this.gantt.gridLayoutCalculator.getTaskWidth(e)+1,t.assignPosition(this.dependencySuccessorBaseElement),t.assignSize(this.dependencySuccessorBaseElement),t.assignSize(this.dependencySuccessorFrame),this.gantt.taskArea.appendChild(this.dependencySuccessorBaseElement)}},e.prototype.hideDependencySuccessor=function(){var e=this.dependencySuccessorBaseElement.parentNode;e&&e.removeChild(this.dependencySuccessorBaseElement),this.successorIndex=-1},e.prototype.processProgress=function(e){this.editing=!0;var t=e.x-this.wrapInfo.position.x,n=0;e.x>this.wrapInfo.position.x&&(n=e.x<this.wrapInfo.position.x+this.wrapInfo.size.width?Math.round(t/this.baseElement.clientWidth*100):100),this.progressEdit.style.left=n/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px",this.statusMsg.innerHTML=n+"%",this.showMessageBox(s.DomUtils.getAbsolutePositionX(this.progressEdit)-this.statusMsg.clientWidth/2)},e.prototype.confirmProgress=function(){this.editing=!1;var e=Math.round((this.progressEdit.offsetLeft+this.progressEdit.offsetWidth/2)/this.wrapInfo.size.width*100);this.gantt.commandManager.changeTaskProgressCommand.execute(this.taskId,e)},e.prototype.isShouldProcessEnd=function(e){return e>this.wrapInfo.position.x-this.endEdit.clientWidth},e.prototype.processEnd=function(e){this.baseElement.className=this.baseElement.className+" move",this.editing=!0;var t=e.x>this.wrapInfo.position.x?e.x:this.wrapInfo.position.x,n=t-this.wrapInfo.position.x;this.baseElement.style.width=(n<1?0:n)+"px";var o=this.task.start,i=this.gantt.gridLayoutCalculator.getDateByPos(t);i.setSeconds(0),i<o||n<1?this.taskDateRange.end.setTime(o.getTime()):this.taskDateRange.end=this.getNewDate(this.task.end,i),this.showTimeMessage(o,this.taskDateRange.end,s.DomUtils.getAbsolutePositionX(this.baseElement)+this.baseElement.clientWidth-this.statusMsg.clientWidth)},e.prototype.confirmEnd=function(){this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.editing=!1,this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId,this.taskDateRange.end),this.updateWrapInfo()},e.prototype.processStart=function(e){this.baseElement.className=this.baseElement.className+" move",this.editing=!0;var t=e.x<this.wrapInfo.position.x+this.wrapInfo.size.width?e.x:this.wrapInfo.position.x+this.wrapInfo.size.width,n=this.wrapInfo.size.width-(t-this.wrapInfo.position.x);this.baseElement.style.left=t+"px",this.baseElement.style.width=(n<1?0:n)+"px";var o=this.task.end,i=this.gantt.gridLayoutCalculator.getDateByPos(t);i.setSeconds(0),i>o||n<1?this.taskDateRange.start.setTime(o.getTime()):this.taskDateRange.start=this.getNewDate(this.task.start,i),this.showTimeMessage(this.taskDateRange.start,o,s.DomUtils.getAbsolutePositionX(this.baseElement))},e.prototype.confirmStart=function(){this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.editing=!1,this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId,this.taskDateRange.start),this.updateWrapInfo()},e.prototype.processMove=function(e){if(this.gantt.settings.editing.allowTaskUpdating){this.baseElement.className=this.baseElement.className+" move",this.editing=!0;var t=this.baseElement.offsetLeft+e;this.baseElement.style.left=t+"px";var n=this.gantt.gridLayoutCalculator.getDateByPos(t);this.taskDateRange.start=this.getNewDate(this.task.start,n);var o=this.task.start.getTime()-n.getTime(),i=new Date(this.task.end.getTime()-o);this.taskDateRange.end=this.getNewDate(this.task.end,i),this.showTimeMessage(this.taskDateRange.start,this.taskDateRange.end,s.DomUtils.getAbsolutePositionX(this.baseElement))}},e.prototype.confirmMove=function(){this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.editing&&(this.gantt.history.beginTransaction(),this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId,this.taskDateRange.start),this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId,this.taskDateRange.end),this.gantt.history.endTransaction()),this.updateWrapInfo(),this.editing=!1},e.prototype.getNewDate=function(e,t){if(this.gantt.settings.viewType>i.ViewType.SixHours){var n=new Date(e.getTime());return n.setDate(t.getDate()),n.setMonth(t.getMonth()),n.setFullYear(t.getFullYear()),this.gantt.settings.viewType==i.ViewType.Days&&n.setHours(t.getHours()),n}return t},e.prototype.startDependency=function(t){this.dependencyLine=document.createElement("DIV"),this.dependencyLine.className=e.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE,this.gantt.taskArea.appendChild(this.dependencyLine),this.startPosition=t},e.prototype.processDependency=function(e){this.editing=!0,this.drawline(this.startPosition,e)},e.prototype.endDependency=function(e){this.editing=!1,null!=e&&this.gantt.commandManager.createDependencyCommand.execute(this.task.internalId,this.successorId,e);var t=this.dependencyLine.parentNode;t&&t.removeChild(this.dependencyLine),this.dependencyLine=null,this.hideDependencySuccessor(),this.hide()},e.prototype.selectDependency=function(e){this.gantt.settings.editing.allowDependencyDeleting&&(this.dependencyId=e)},e.prototype.isDependencySelected=function(e){return this.dependencyId&&this.dependencyId==e},e.prototype.deleteSelectedDependency=function(){this.dependencyId&&this.gantt.commandManager.removeDependencyCommand.execute(this.dependencyId)},e.prototype.showTimeMessage=function(t,n,o){this.statusMsg.innerHTML="";var i=document.createElement("DIV");i.className=e.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var r=document.createElement("DIV"),s=document.createElement("SPAN");s.innerHTML="Start: ";var a=document.createElement("SPAN");a.innerHTML=this.formatDate(t),r.appendChild(s),r.appendChild(a);var c=document.createElement("DIV"),u=document.createElement("SPAN");u.innerHTML="End: ";var l=document.createElement("SPAN");l.innerHTML=this.formatDate(n),c.appendChild(u),c.appendChild(l),i.appendChild(r),i.appendChild(c),this.statusMsg.appendChild(i),this.showMessageBox(o)},e.prototype.showMessageBox=function(e){var t=this;this.statusMsg.style.display="block",this.statusMsg.style.left=e+"px",this.statusMsg.style.top=s.DomUtils.getAbsolutePositionY(this.baseElement)-this.statusMsg.clientHeight+"px",this.statusTimerId&&clearTimeout(this.statusTimerId),this.statusTimerId=setTimeout((function(){t.statusMsg.style.display="none"}),1500)},e.prototype.formatDate=function(e){return("0"+e.getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+e.getFullYear()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)},e.prototype.createElements=function(){this.baseElement=document.createElement("DIV"),this.baseFrame=document.createElement("DIV"),this.baseFrame.className=e.CLASSNAMES.TASK_EDIT_FRAME,this.baseElement.appendChild(this.baseFrame),this.progressEdit=document.createElement("DIV"),this.progressEdit.className=e.CLASSNAMES.TASK_EDIT_PROGRESS,this.baseFrame.appendChild(this.progressEdit),this.statusMsg=document.createElement("DIV"),this.statusMsg.className=e.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS,this.baseFrame.appendChild(this.statusMsg),this.dependencyFinish=document.createElement("DIV"),this.dependencyFinish.className=e.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH,this.baseFrame.appendChild(this.dependencyFinish),this.dependencyStart=document.createElement("DIV"),this.dependencyStart.className=e.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT,this.baseFrame.appendChild(this.dependencyStart),this.startEdit=document.createElement("DIV"),this.startEdit.className=e.CLASSNAMES.TASK_EDIT_START,this.baseFrame.appendChild(this.startEdit),this.endEdit=document.createElement("DIV"),this.endEdit.className=e.CLASSNAMES.TASK_EDIT_END,this.baseFrame.appendChild(this.endEdit),this.dependencySuccessorBaseElement=document.createElement("DIV"),this.dependencySuccessorBaseElement.className=e.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR,this.dependencySuccessorFrame=document.createElement("DIV"),this.dependencySuccessorFrame.className=e.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR,this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame),this.dependencySuccessorStart=document.createElement("DIV"),this.dependencySuccessorStart.className=e.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH,this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart),this.dependencySuccessorFinish=document.createElement("DIV"),this.dependencySuccessorFinish.className=e.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT,this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish),this.attachEvents()},e.prototype.attachEvents=function(){this.baseElement.addEventListener("mouseleave",function(e){this.editing||this.hide()}.bind(this))},e.prototype.drawline=function(e,t){if(e.x>t.x){var n=t;t=e,e=n}var o=Math.atan((e.y-t.y)/(t.x-e.x));o=-(o=180*o/Math.PI);var i=Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y));this.dependencyLine.style.left=e.x+"px",this.dependencyLine.style.top=e.y+"px",this.dependencyLine.style.width=i+"px",this.dependencyLine.style.transform="rotate("+o+"deg)"},e.prototype.createClassToSourceMap=function(){e.classToSource[e.CLASSNAMES.TASK_EDIT_PROGRESS]=o.MouseEventSource.TaskEdit_Progress,e.classToSource[e.CLASSNAMES.TASK_EDIT_START]=o.MouseEventSource.TaskEdit_Start,e.classToSource[e.CLASSNAMES.TASK_EDIT_END]=o.MouseEventSource.TaskEdit_End,e.classToSource[e.CLASSNAMES.TASK_EDIT_FRAME]=o.MouseEventSource.TaskEdit_Frame,e.classToSource[e.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH]=o.MouseEventSource.TaskEdit_DependencyStart,e.classToSource[e.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT]=o.MouseEventSource.TaskEdit_DependencyFinish,e.classToSource[e.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH]=o.MouseEventSource.Successor_DependencyStart,e.classToSource[e.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT]=o.MouseEventSource.Successor_DependencyFinish},e.CLASSNAMES={TASK_EDIT_BOX:"dx-gantt-task-edit-wrapper",TASK_EDIT_FRAME:"dx-gantt-task-edit-frame",TASK_EDIT_PROGRESS:"dx-gantt-task-edit-progress",TASK_EDIT_PROGRESS_STATUS:"dx-gantt-task-edit-progress-status",TASK_EDIT_PROGRESS_STATUS_TIME:"dx-gantt-status-time",TASK_EDIT_DEPENDENCY_RIGTH:"dx-gantt-task-edit-dependency-r",TASK_EDIT_DEPENDENCY_LEFT:"dx-gantt-task-edit-dependency-l",TASK_EDIT_START:"dx-gantt-task-edit-start",TASK_EDIT_END:"dx-gantt-task-edit-end",TASK_EDIT_DEPENDENCY_LINE:"dx-gantt-task-edit-dependency-line",TASK_EDIT_BOX_SUCCESSOR:"dx-gantt-task-edit-wrapper-successor",TASK_EDIT_FRAME_SUCCESSOR:"dx-gantt-task-edit-frame-successor",TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH:"dx-gantt-task-edit-successor-dependency-r",TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT:"dx-gantt-task-edit-successor-dependency-l"},e.classToSource={},e}();t.TaskEditController=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n,o){var i=e.call(this,t)||this;return i.taskId=n,i.newValue=o,i}return i(t,e),t.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.taskId,this.newValue)},t.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},t.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},t}(n(9).HistoryItem);t.TaskPropertiesHistoryItemBase=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.title},t}(r);t.TaskTitleHistoryItem=s;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.description},t}(r);t.TaskDesriptionHistoryItem=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.progress},t}(r);t.TaskProgressHistoryItem=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.start},t}(r);t.TaskStartHistoryItem=u;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.end},t}(r);t.TaskEndHistoryItem=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(33);var o=n(34);t.GanttView=o.GanttView},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(35),i=n(7),r=n(28),s=n(1),a=n(10),c=n(15),u=n(3),l=n(29),h=n(16),p=n(55),d=n(30),f=n(8),y=n(56),g=n(61),m=n(62),T=n(72),v=n(73),w=n(74),k=n(76),_=n(86),I=n(12),M=function(){function e(e,t,n){this.timeScaleAreas=new Array,this.horTaskAreaBorders=[],this.vertTaskAreaBorders=[],this.scaleBorders=[],this.scaleElements=[],this.taskElements=[],this.selectionElements=[],this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this.renderedScaleItemIndices=[],this.dependencyMap=[],this.renderedConnectorLines=[],this.connectorLinesToElementsMap={},this.noWorkingIntervalsToElementsMap={},this.renderedNoWorkingIntervals=[],this.gridLayoutCalculator=new h.GridLayoutCalculator,this.elementTextHelper=new r.ElementTextHelper,this.etalonSizeValues=new p.EtalonSizeValues,this.tickSize=new c.Size,this.scaleCount=2,this.isFocus=!1,this.zoom=1,this.currentSelectedTaskID="",this.ganttOwner=t,this.settings=v.Settings.parse(n),this.createMainElement(e),this.createHeader(),this.calculateEtalonSizeValues(),this.createTaskAreaContainer(),this.loadOptionsFromGanttOwner(),this.elementTextHelper.setFont(this.mainElement),this.setupHelpers(),this.setSizeForTaskArea(),this.createTimeScaleContainer(),this.createTimeScaleAreas(),this.commandManager=new k.CommandManager(this),this.barManager=new _.BarManager(this,t.bars),this.eventManager=new m.EventManager(this),this.taskEditController=new d.TaskEditController(this),this.history=new g.History,this.taskAreaManager=new f.TaskAreaManager(this),this.updateView()}return e.prototype.reset=function(){this.timeScaleContainer.innerHTML="",this.taskArea.innerHTML="",this.horTaskAreaBorders=[],this.vertTaskAreaBorders=[],this.scaleBorders=[],this.scaleElements=[],this.taskElements=[],this.selectionElements=[],this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this.renderedConnectorLines=[],this.timeScaleAreas=[],this.renderedScaleItemIndices=[],this.connectorLinesToElementsMap={},this.renderedNoWorkingIntervals=[],this.noWorkingIntervalsToElementsMap={}},e.prototype.setupHelpers=function(){var e=new c.Size(this.taskAreaContainer.getWidth(),this.taskAreaContainer.getHeight()),t=this.taskAreaContainer.getHeight()-this.taskAreaContainer.getElement().clientHeight;this.gridLayoutCalculator.setSettings(e,this.tickSize,this.etalonSizeValues,this.range,this.viewModel,this.settings.viewType,t),this.elementTextHelper.setSettings(this.range.start.getTime(),this.settings.viewType,this.viewModel.items)},e.prototype.getDateRange=function(e,t){var n=r.DateUtils.adjustStartEndDateByViewType(e,!0,this.settings.viewType),o=this.adjustEndDateByVisibleAreaWidth(n,t);return o=r.DateUtils.adjustStartEndDateByViewType(o,!1,this.settings.viewType),new a.DateRange(n,o)},e.prototype.adjustEndDateByVisibleAreaWidth=function(e,t){var n=new Date,o=Math.max(t.getTime(),this.getVisibleAreaEndDate(e).getTime());return n.setTime(o),n},e.prototype.getVisibleAreaEndDate=function(e){var t=new Date,n=Math.ceil(this.taskAreaContainer.getWidth()/this.tickSize.width);return this.settings.viewType==i.ViewType.Months?(t.setTime(e.getTime()),t.setMonth(t.getMonth()+n)):t.setTime(e.getTime()+n*r.DateUtils.getTickTimeSpan(this.settings.viewType)),t},e.prototype.calculateEtalonSizeValues=function(){var e=this.createEtalonElementsContainer(),t=this.createEtalonElements(e);this.calculateEtalonSizeValuesCore(t),this.mainElement.removeChild(e)},e.prototype.calculateEtalonSizeValuesCore=function(e){this.etalonSizeValues.taskHeight=e[0].firstChild.offsetHeight,this.etalonSizeValues.milestoneWidth=e[1].firstChild.offsetWidth,this.etalonSizeValues.taskWrapperTopPadding=s.DomUtils.getTopPaddings(e[0]),this.etalonSizeValues.connectorLineThickness=s.DomUtils.getVerticalBordersWidth(e[2]),this.etalonSizeValues.connectorArrowWidth=s.DomUtils.getHorizontalBordersWidth(e[3]);for(var t=0;t<=i.ViewType.Years;t++)e[4].innerText=this.elementTextHelper.getScaleItemTextTemplate(t),this.etalonSizeValues.scaleItemWidths[t]=e[4].offsetWidth;this.etalonSizeValues.smallTaskWidth=2*s.DomUtils.getLeftPadding(e[0].firstChild.firstChild),this.etalonSizeValues.outsideTaskTextDefaultWidth=s.DomUtils.pxToFloat(s.DomUtils.getCurrentStyle(e[5]).width),this.etalonSizeValues.scaleItemHeight=this.ganttOwner.getHeaderHeight()/this.scaleCount},e.prototype.createEtalonElementsContainer=function(){var e=document.createElement("DIV");return e.style.visibility="hidden",e.style.position="absolute",e.style.left="-1000px",this.mainElement.appendChild(e),e},e.prototype.createEtalonElements=function(e){var t=[],n=this.createElement(new l.GridElementInfo("dx-gantt-taskWrapper"),null,e),o=this.createElement(new l.GridElementInfo("dx-gantt-task"),null,n);this.createElement(new l.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,o).innerText="WWW",t.push(n);var i=this.createElement(new l.GridElementInfo("dx-gantt-taskWrapper"),null,e);this.createElement(new l.GridElementInfo("dx-gantt-task dx-gantt-milestone"),null,i),t.push(i);for(var r=["dx-gantt-conn-h","dx-gantt-arrow","dx-gantt-si","dx-gantt-taskTitle dx-gantt-titleOut"],s=0;s<r.length;s++){var a=new l.GridElementInfo(r[s]);t.push(this.createElement(a,null,e))}return t},e.prototype.zoomIn=function(){1==this.zoom?(this.zoom++,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType>i.ViewType.TenMinutes&&(this.zoom--,this.setViewType(this.settings.viewType-1))},e.prototype.zoomOut=function(){this.zoom>1?(this.zoom--,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType<i.ViewType.Years&&(this.zoom++,this.setViewType(this.settings.viewType+1))},e.prototype.onVisualModelChanged=function(){this.resetAndUpdate()},e.prototype.getGanttViewStartDate=function(e){if(!e)return new Date;var t=e.map((function(e){return"string"==typeof e.start?new Date(e.start):e.start}));return t.length>0?t.reduce((function(e,t){return t<e?t:e}),t[0]):new Date},e.prototype.getGanttViewEndDate=function(e){if(!e)return new Date;var t=e.map((function(e){return"string"==typeof e.end?new Date(e.end):e.end}));return t.length>0?t.reduce((function(e,t){return t>e?t:e}),t[0]):new Date},e.prototype.getTaskAreaWidth=function(){return this.gridLayoutCalculator.horizontalTickCount*this.tickSize.width},e.prototype.getTaskAreaHeight=function(){return this.gridLayoutCalculator.getVerticalGridLineHeight()},e.prototype.getVisibleTaskCount=function(){return this.viewModel.itemCount},e.prototype.getTask=function(e){return this.viewModel.items[e].task},e.prototype.createMainElement=function(e){this.mainElement=document.createElement("DIV"),this.mainElement.style.width=e.offsetWidth+"px",this.mainElement.style.height=e.offsetHeight+"px",e.appendChild(this.mainElement)},e.prototype.createHeader=function(){this.header=document.createElement("DIV"),this.header.className="dx-gantt-header",this.mainElement.appendChild(this.header)},e.prototype.createTimeScaleContainer=function(){this.timeScaleContainer=document.createElement("DIV"),this.timeScaleContainer.className="dx-gantt-tsac",this.timeScaleContainer.style.height=this.etalonSizeValues.scaleItemHeight*this.scaleCount+"px",this.header.appendChild(this.timeScaleContainer)},e.prototype.createTimeScaleArea=function(){var e=document.createElement("DIV");return e.className="dx-gantt-tsa",e.style.width=this.getTaskAreaWidth()+"px",e.style.height=this.etalonSizeValues.scaleItemHeight+"px",this.timeScaleContainer.appendChild(e),this.timeScaleAreas.unshift(e),e},e.prototype.createTimeScaleAreas=function(){for(var e=0;e<this.scaleCount;e++){var t=this.createTimeScaleArea();0==e&&this.settings.viewType==i.ViewType.Weeks&&this.createMonthsScale(t)}},e.prototype.createTaskAreaContainer=function(){var e=document.createElement("DIV");e.className="dx-gantt-tac",this.mainElement.appendChild(e),this.createTaskArea(e),this.taskAreaContainer=this.ganttOwner.getExternalTaskAreaContainer(e),null==this.taskAreaContainer&&(this.taskAreaContainer=new T.TaskAreaContainer(e,this)),this.prepareTaskAreaContainer()},e.prototype.prepareTaskAreaContainer=function(){var e=this.taskAreaContainer.getElement();this.settings.areHorizontalBordersEnabled?s.DomUtils.addClassNameToElement(e,"dx-gantt-tac-hb"):s.DomUtils.removeClassNameFromElement(e,"dx-gantt-tac-hb");var t=parseInt(getComputedStyle(e).getPropertyValue("margin-top"))||0;e.style.height="calc(100% - "+(this.etalonSizeValues.scaleItemHeight*this.scaleCount+t)+"px)"},e.prototype.createTaskArea=function(e){this.taskArea=document.createElement("DIV"),this.taskArea.id="dx-gantt-ta",e.appendChild(this.taskArea)},e.prototype.setSizeForTaskArea=function(){this.taskArea.style.width=this.getTaskAreaWidth()+"px",this.taskArea.style.height=this.getTaskAreaHeight()+"px"},e.prototype.updateTickSizeWidth=function(){this.tickSize.width=this.etalonSizeValues.scaleItemWidths[this.settings.viewType]*this.zoom},e.prototype.createMonthsScale=function(e){var t=new Date;t.setTime(this.range.start.getTime());for(var n=0,o=0;t.getTime()<this.range.end.getTime();){var s=r.DateUtils.getDaysInMonth(t.getMonth(),t.getFullYear())-t.getDate()+1,a=new Date;a.setTime(t.getTime()+Math.min(s*r.DateUtils.msPerDay,this.range.end.getTime()-t.getTime()));var h=this.gridLayoutCalculator.getWidthByDateRange(t,a),p=new l.GridElementInfo("dx-gantt-si",new u.Point(n),new c.Size(h,this.etalonSizeValues.scaleItemHeight)),d=this.createElement(p,null,e);d.innerText=this.elementTextHelper.getScaleItemText(o,i.ViewType.Months),d.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px";var f=new l.GridElementInfo("dx-gantt-vb",new u.Point(n+h),new c.Size(0,this.etalonSizeValues.scaleItemHeight));this.createElement(f,null,e),n+=h,o++,t=a}},e.prototype.updateView=function(){this.timeScaleContainer.scrollLeft=this.taskAreaContainer.scrollLeft,this.processScroll(!1),this.processScroll(!0),this.ganttOwner.onGanttScroll(this.taskAreaContainer.scrollTop)},e.prototype.processScroll=function(e){this.recreateTaskAreaBordersAndTaskElements(e),e?this.recreateConnectorLineElements():(this.recreateNoWorkingIntervalElements(),this.recreateScalesElements())},e.prototype.recreateTaskAreaBordersAndTaskElements=function(e){var t=this,n=e?this.taskAreaContainer.scrollTop:this.taskAreaContainer.scrollLeft,o=this.gridLayoutCalculator.getRenderedRowColumnIndices(n,e),i=e?this.renderedRowIndices:this.renderedColIndices;this.recreateElements(i,o,(function(n){t.removeTaskAreaBorderAndTaskElement(n,e)}),(function(n){t.createTaskAreaBorderAndTaskElement(n,e)})),e?this.renderedRowIndices=o:this.renderedColIndices=o},e.prototype.recreateNoWorkingIntervalElements=function(){var e=this,t=this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainer.scrollLeft);this.recreateElements(this.renderedNoWorkingIntervals,t,(function(t){e.removeNoWorkingIntervalElement(t)}),(function(t){e.createNoWorkingIntervalElement(t)})),this.renderedNoWorkingIntervals=t},e.prototype.recreateConnectorLineElements=function(){var e=this,t=this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainer.scrollTop);this.recreateElements(this.renderedConnectorLines,t,(function(t){e.removeConnectorLineElement(t)}),(function(t){e.createConnectorLineElement(t)})),this.renderedConnectorLines=t},e.prototype.recreateScalesElements=function(){this.recreateScaleElements(this.settings.viewType,0),this.settings.viewType!=i.ViewType.Weeks&&this.recreateScaleElements(r.DateUtils.ViewTypeToScaleMap[this.settings.viewType],1)},e.prototype.recreateScaleElements=function(e,t){var n=this,o=this.gridLayoutCalculator.getRenderedScaleItemIndices(e,this.renderedColIndices),i=this.renderedScaleItemIndices[e-this.settings.viewType]||[];this.recreateElements(i,o,(function(e){n.removeScaleElementAndBorder(e,t)}),(function(o){n.createScaleElementAndBorder(o,t,e)})),this.renderedScaleItemIndices[e-this.settings.viewType]=o},e.prototype.recreateElements=function(e,t,n,o){e.filter((function(e){return-1===t.indexOf(e)})).forEach((function(e){n(e)})),t.filter((function(t){return-1===e.indexOf(t)})).forEach((function(e){o(e)}))},e.prototype.allowTaskAreaBorders=function(e){return e?this.settings.areHorizontalBordersEnabled:this.settings.areVerticalBordersEnabled},e.prototype.createTaskAreaBorderAndTaskElement=function(e,t){this.allowTaskAreaBorders(t)&&this.createTaskAreaBorder(e,!t),t&&this.createTaskElement(e)},e.prototype.removeTaskAreaBorderAndTaskElement=function(e,t){this.allowTaskAreaBorders(t)&&this.removeTaskAreaBorder(e,!t),t&&this.removeTaskElement(e)},e.prototype.getTaskAreaBordersDictionary=function(e){return e?this.vertTaskAreaBorders:this.horTaskAreaBorders},e.prototype.createTaskAreaBorder=function(e,t){var n=this.gridLayoutCalculator.getTaskAreaBorderInfo(e,t);this.createElement(n,e,this.taskArea,this.getTaskAreaBordersDictionary(t))},e.prototype.removeTaskAreaBorder=function(e,t){this.removeElement(null,e,this.taskArea,this.getTaskAreaBordersDictionary(t))},e.prototype.createScaleElementAndBorder=function(e,t,n){this.createScaleElement(e,t,n),this.createScaleBorder(e,t,n)},e.prototype.createScaleElement=function(e,t,n){var o=this.gridLayoutCalculator.getScaleElementInfo(e,n),i=this.createScaleElementCore(e,o,t,this.scaleElements);i.innerText=this.elementTextHelper.getScaleItemText(e,n),i.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px"},e.prototype.createScaleBorder=function(e,t,n){var o=this.gridLayoutCalculator.getScaleBorderInfo(e,n);this.createScaleElementCore(e,o,t,this.scaleBorders)},e.prototype.createScaleElementCore=function(e,t,n,o){return o[n]||(o[n]=[]),this.createElement(t,e,this.timeScaleAreas[n],o[n])},e.prototype.removeScaleElementAndBorder=function(e,t){this.removeElement(null,e,this.timeScaleAreas[t],this.scaleElements[t]),this.removeElement(null,e,this.timeScaleAreas[t],this.scaleBorders[t])},e.prototype.createTaskElement=function(e){this.createTaskWrapperElement(e),this.settings.taskTitlePosition==i.TaskTitlePosition.Outside&&this.createTaskTextElement(e,this.taskElements[e]);var t=this.createTaskVisualElement(e);this.viewModel.items[e].task.isMilestone()||(this.settings.taskTitlePosition==i.TaskTitlePosition.Inside&&this.createTaskTextElement(e,t),this.createTaskProgressElement(e,t)),this.settings.showResources&&this.createResources(e),this.viewModel.items[e].selected&&this.createTaskSelectionElement(e),this.isHighlightRowElementAllowed(e)&&this.createHighlightRowElement(e)},e.prototype.isHighlightRowElementAllowed=function(e){return e%2!=0&&this.settings.areAlternateRowsEnabled||this.viewModel.items[e].children.length>0},e.prototype.createResources=function(e){for(var t=this.viewModel.items[e].resources.items,n=0;n<t.length;n++)this.createResourceElement(e,t[n])},e.prototype.createTaskWrapperElement=function(e){var t=this.gridLayoutCalculator.getTaskWrapperElementInfo(e);this.createElement(t,e,this.taskArea,this.taskElements),this.taskElements[e].style.display=this.elementTextHelper.getTaskVisibility(e)?"":"none"},e.prototype.createTaskVisualElement=function(e){var t=this.gridLayoutCalculator.getTaskElementInfo(e),n=this.createElement(t,e,this.taskElements[e]);return n.addEventListener("mouseenter",function(e){this.taskAreaManager.onTaskElementHover(e)}.bind(this)),n},e.prototype.createTaskProgressElement=function(e,t){var n=this.gridLayoutCalculator.getTaskProgressElementInfo(e);this.createElement(n,e,t)},e.prototype.createTaskTextElement=function(e,t){var n=this.gridLayoutCalculator.getTaskTextElementInfo(e,this.settings.taskTitlePosition==i.TaskTitlePosition.Inside);this.createElement(n,e,t).innerText=this.elementTextHelper.getTaskText(e)},e.prototype.createResourceElement=function(e,t){var n=this.gridLayoutCalculator.getTaskResourceElementInfo();this.createElement(n,e,this.taskElements[e]).innerText=t.text},e.prototype.createTaskSelectionElement=function(e){var t=this.gridLayoutCalculator.getSelectionElementInfo(e);this.taskAreaContainer.isExternal&&!this.settings.areHorizontalBordersEnabled&&t.size.height++,this.createElement(t,e,this.taskArea,this.selectionElements)},e.prototype.createHighlightRowElement=function(e){var t=this.gridLayoutCalculator.getHighlightRowInfo(e);this.createElement(t,e,this.taskArea,this.hlRowElements)},e.prototype.removeTaskElement=function(e){this.removeElement(null,e,this.taskArea,this.taskElements),this.removeElement(null,e,this.taskArea,this.selectionElements),this.isHighlightRowElementAllowed(e)&&this.removeElement(null,e,this.taskArea,this.hlRowElements)},e.prototype.createConnectorLineElement=function(e){return this.taskEditController.isDependencySelected(e.attr["dependency-id"])&&(e.className=e.className+" active"),this.createElement(e,null,this.taskArea,this.connectorLinesToElementsMap)},e.prototype.removeConnectorLineElement=function(e){this.removeElement(e,null,this.taskArea,this.connectorLinesToElementsMap)},e.prototype.createNoWorkingIntervalElement=function(e){return this.createElement(e,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},e.prototype.removeNoWorkingIntervalElement=function(e){this.removeElement(e,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},e.prototype.createElement=function(e,t,n,o){var i=document.createElement("DIV");for(var r in e.assignToElement(i),n.appendChild(i),o&&(o instanceof Array&&null!==t?o[t]=i:o[e.id]=i),e.attr)e.attr.hasOwnProperty(r)&&i.setAttribute(r,e.attr[r]);return i},e.prototype.removeElement=function(e,t,n,o){var i;o instanceof Array&&null!==t?(i=o[t],delete o[t]):(i=o[e.id],delete o[e.id]),i&&n.removeChild(i)},e.prototype.calculateAutoViewType=function(e,t){var n=(t.getTime()-e.getTime())/36e5;return n>8760?i.ViewType.Years:n>720?i.ViewType.Months:n>168?i.ViewType.Weeks:n>24?i.ViewType.Days:n>6?i.ViewType.SixHours:n>1?i.ViewType.Hours:i.ViewType.TenMinutes},e.prototype.changeTaskExpanded=function(e,t){var n=this.getTaskByPublicId(e);n&&this.viewModel.changeTaskExpanded(n.internalId,t)},e.prototype.expandTask=function(e){this.viewModel.changeTaskExpanded(e,!0)},e.prototype.collapseTask=function(e){this.viewModel.changeTaskExpanded(e,!1)},e.prototype.showTask=function(e){this.viewModel.changeTaskVisibility(e,!0)},e.prototype.hideTask=function(e){this.viewModel.changeTaskVisibility(e,!1)},e.prototype.getTaskVisibility=function(e){return this.viewModel.getTaskVisibility(e)},e.prototype.unselectCurrentSelectedTask=function(){this.unselectTask(this.currentSelectedTaskID)},e.prototype.getTaskSelected=function(e){return this.viewModel.getTaskSelected(e)},e.prototype.setViewType=function(e){null==e&&(e=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.settings.viewType!==e&&(this.settings.viewType=e,this.updateTickSizeWidth(),this.resetAndUpdate())},e.prototype.setTaskTitlePosition=function(e){this.settings.taskTitlePosition!==e&&(this.settings.taskTitlePosition=e,this.resetAndUpdate())},e.prototype.setShowResources=function(e){this.settings.showResources!==e&&(this.settings.showResources=e,this.resetAndUpdate())},e.prototype.loadOptionsFromGanttOwner=function(){this.tickSize.height=this.ganttOwner.getRowHeight();var e=this.ganttOwner.getGanttTasksData();this.dataRange=new a.DateRange(this.getGanttViewStartDate(e),this.getGanttViewEndDate(e)),null==this.settings.viewType&&(this.settings.viewType=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.updateTickSizeWidth(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.viewModel=new o.ViewVisualModel(this,e,this.ganttOwner.getGanttDependenciesData(),this.ganttOwner.getGanttResourcesData(),this.ganttOwner.getGanttResourceAssignmentsData(),this.dataRange,this.ganttOwner.getGanttWorkTimeRules());var t=new w.ModelChangesDispatcher,n=this.ganttOwner.getModelChangesListener();n&&t.onModelChanged.add(n),this.modelManipulator=new y.ModelManipulator(this.viewModel,t)},e.prototype.resetAndUpdate=function(){this.reset(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.setupHelpers(),this.createTimeScaleAreas(),this.setSizeForTaskArea(),I.Browser.IE&&this.taskEditController.createElements(),this.updateView()},e.prototype.selectTask=function(e){this.viewModel.changeTaskSelected(e,!0),this.currentSelectedTaskID=e},e.prototype.unselectTask=function(e){this.viewModel.changeTaskSelected(e,!1)},e.prototype.selectTaskById=function(e){this.unselectCurrentSelectedTask();var t=this.getTaskByPublicId(e);t&&this.selectTask(t.internalId)},e.prototype.getTaskAreaContainer=function(){return this.taskAreaContainer},e.prototype.setWidth=function(e){this.mainElement.style.width=e+"px"},e.prototype.setAllowSelection=function(e){this.settings.allowSelectTask=e},e.prototype.setEditingSettings=function(e){this.settings.editing=e},e.prototype.setRowLinesVisible=function(e){this.settings.areHorizontalBordersEnabled=e,this.prepareTaskAreaContainer(),this.resetAndUpdate()},e.prototype.setTaskTitle=function(e,t){var n=this.getTaskByPublicId(e);n&&this.commandManager.changeTaskTitleCommand.execute(n.internalId,t)},e.prototype.setTaskProgress=function(e,t){var n=this.getTaskByPublicId(e);n&&this.commandManager.changeTaskProgressCommand.execute(n.internalId,t)},e.prototype.setTaskStart=function(e,t){var n=this.getTaskByPublicId(e);n&&this.commandManager.changeTaskStartCommand.execute(n.internalId,t)},e.prototype.setTaskEnd=function(e,t){var n=this.getTaskByPublicId(e);n&&this.commandManager.changeTaskEndCommand.execute(n.internalId,t)},e.prototype.removeTask=function(e){var t=this.getTaskByPublicId(e);t&&this.commandManager.removeTaskCommand.execute(t.internalId)},e.prototype.createTask=function(e){var t=this.getTaskByPublicId(e),n=t?t.internalId:null;this.commandManager.createTaskCommand.execute(null,null,"",n)},e.prototype.getTaskByPublicId=function(e){return this.viewModel.tasks.getItemByPublicId(e)},e.prototype.getPrevTask=function(e){var t=this.viewModel.findItem(e),n=t.parent.children.indexOf(t)-1;return n>-1?t.parent.children[n].task:t.parent.task},e.prototype.updateCreatedTaskIdAfterServerUpdate=function(e,t){var n=this.viewModel.findItem(e),o=n&&n.task;o&&(o.id=t)},e.prototype.getTaskIdByInternalId=function(e){var t=this.viewModel.findItem(e),n=t&&t.task;return n?n.id:null},e.prototype.isTaskHasChildren=function(e){var t=this.viewModel.findItem(e);return t&&t.children.length>0},e}();t.GanttView=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=n(37),r=n(39),s=n(40),a=n(42),c=n(43),u=n(44),l=function(){function e(e,t,n,a,c,l,h){this._fLockCount=0,this.owner=e,this.tasks=new i.TaskCollection,this.tasks.importFromObject(t),this.dependencies=new r.DependencyCollection,this.dependencies.importFromObject(n),this.resources=new o.ResourceCollection,this.resources.importFromObject(a),this.assignments=new s.ResourceAssignmentCollection,this.assignments.importFromObject(c),this._itemList=new Array,this._viewItemList=new Array,this._workTimeCalculator=new u.WorkingTimeCalculator(l,h),this.updateModel()}return e.prototype.updateModel=function(){this._itemList.splice(0,this._itemList.length);for(var e=this.tasks.items,t=0;t<e.length;t++){var n=e[t];n&&this._itemList.push(new a.ViewVisualModelItem(n,this.getAssignedResources(n)))}this.createHierarchy(),this.populateItemsForView(),this.owner&&this.owner.currentSelectedTaskID&&this.changeTaskSelected(this.owner.currentSelectedTaskID,!0)},e.prototype.createHierarchy=function(){this.root=new a.ViewVisualModelItem(null,null);for(var e=this._itemList,t=function(){var t=e[o],i=t.task.parentId,r=e.filter((function(e){return e.task&&e.task.internalId===i||e.task.internalId.toString()===i}))[0]||n.root;t.parent=r,r.addChild(t)},n=this,o=0;o<e.length;o++)t()},e.prototype.populateItemsForView=function(){this._viewItemList.splice(0,this._viewItemList.length),this.populateVisibleItems(this.root),this.updateVisibleItemDependencies()},e.prototype.populateVisibleItems=function(e){var t=this,n=e===this.root;e&&(e.task||n)&&(n||(this._viewItemList.push(e),e.visibleIndex=this._viewItemList.length-1),(e.getExpanded()||e===this.root)&&e.children.forEach((function(e){return t.populateVisibleItems(e)})))},e.prototype.updateVisibleItemDependencies=function(){for(var e=this._viewItemList,t=0;t<e.length;t++){var n=e[t],o=this.getTasVisibleDependencies(n.task);n.setDependencies(o)}},e.prototype.getAssignedResources=function(e){var t=this,n=new o.ResourceCollection;return this.assignments.items.filter((function(t){return t.taskId==e.internalId})).forEach((function(e){n.add(t.resources.getItemById(e.resourceId))})),n},e.prototype.getTasVisibleDependencies=function(e){for(var t=new Array,n=e.internalId,o=this.dependencies.items.filter((function(e){return e.successorId==n})),i=0;i<o.length;i++){var r=o[i],s=this.findItem(r.predecessorId);s&&s.getVisible()&&t.push(new c.ViewVisualModelDependencyInfo(r.internalId,s,r.type))}return t},e.prototype.changeTaskExpanded=function(e,t){var n=this.tasks.getItemById(String(e));n&&(n.expanded=t,this.changed())},e.prototype.changeTaskVisibility=function(e,t){var n=this.findItem(e);n&&(n.visible=t,this.changed())},e.prototype.changeTaskSelected=function(e,t){var n=this._itemList.filter((function(t){return t.task&&t.task.internalId===e}))[0];n&&(n.selected=t,this.changed())},e.prototype.beginUpdate=function(){this._fLockCount++},e.prototype.endUpdate=function(){this._fLockCount--,0==this._fLockCount&&this.changed()},e.prototype.changed=function(){0===this._fLockCount&&(this.populateItemsForView(),this.owner&&this.owner.onVisualModelChanged&&this.owner.onVisualModelChanged())},e.prototype.findItem=function(e){return this._viewItemList.filter((function(t){return t.task&&t.task.internalId===e}))[0]},Object.defineProperty(e.prototype,"items",{get:function(){return this._viewItemList.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemCount",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),e.prototype.getTaskVisibility=function(e){var t=this.findItem(e);return!!t&&t.getVisible()},e.prototype.getTaskSelected=function(e){var t=this.findItem(e);return!!t&&t.selected},Object.defineProperty(e.prototype,"noWorkingIntervals",{get:function(){return this._workTimeCalculator.noWorkingIntervals},enumerable:!0,configurable:!0}),e.prototype.updateRange=function(e){this._workTimeCalculator.updateRange(e)},e}();t.ViewVisualModel=l},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=function(e){function t(){var t=e.call(this)||this;return t.text="",t}return i(t,e),t.prototype.assignFromObject=function(t){r.JsonUtils.isExists(t)&&(e.prototype.assignFromObject.call(this,t),this.text=t.text)},t}(n(4).DataObject);t.Resource=s},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.createItem=function(){return new r.Task},t}(n(6).CollectionBase);t.TaskCollection=s},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(0),a=n(4);!function(e){e[e.Regular=0]="Regular",e[e.Summary=1]="Summary",e[e.Milestone=2]="Milestone"}(r||(r={}));var c=function(e){function t(){var t=e.call(this)||this;return t.start=null,t.end=null,t.duration=null,t.description="",t.parentId="",t.title="",t.owner=null,t.progress=0,t.taskType=null,t.customFields={},t.expanded=!0,t}return i(t,e),t.prototype.assignFromObject=function(t){s.JsonUtils.isExists(t)&&(e.prototype.assignFromObject.call(this,t),this.owner=t.owner,this.parentId=null!=t.parentId?String(t.parentId):null,this.description=t.description,this.title=t.title,this.start=t.start,this.end=t.end,this.start="string"==typeof t.start?new Date(t.start):t.start,this.end="string"==typeof t.end?new Date(t.end):t.end,this.duration=t.duration,this.progress=t.progress,this.taskType=t.taskType,s.JsonUtils.isExists(t.expanded)&&(this.expanded=!!t.expanded),this.assignCustomFields(t.customFields))},t.prototype.assignCustomFields=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this.customFields[t]=e[t])},t.prototype.isMilestone=function(){return this.start.getTime()==this.end.getTime()},t}(a.DataObject);t.Task=c},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),s=n(14),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.createItem=function(){return new s.Dependency},t}(r.CollectionBase);t.DependencyCollection=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),s=n(41),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.createItem=function(){return new s.ResourceAssignment},t}(r.CollectionBase);t.ResourceAssignmentCollection=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),s=n(0),a=function(e){function t(){var t=e.call(this)||this;return t.taskId="",t.resourceId="",t}return i(t,e),t.prototype.assignFromObject=function(t){s.JsonUtils.isExists(t)&&(e.prototype.assignFromObject.call(this,t),this.taskId=String(t.taskId),this.resourceId=String(t.resourceId))},t}(r.DataObject);t.ResourceAssignment=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(e,t){this.dependencies=new Array,this.parent=null,this.visible=!0,this.selected=!1,this.visibleIndex=-1,this.task=e,this.resources=t,this.children=new Array}return Object.defineProperty(e.prototype,"resourceText",{get:function(){var e="";return this.resources.items.forEach((function(t){return e+=t.text+" "})),e},enumerable:!0,configurable:!0}),e.prototype.addChild=function(e){o.JsonUtils.isExists(e)&&this.children.indexOf(e)<0&&this.children.push(e)},e.prototype.removeChild=function(e){var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1)},e.prototype.getExpanded=function(){return!!this.task&&this.task.expanded},e.prototype.getVisible=function(){if(!this.visible)return!1;for(var e=this.parent;e;){if(!e.visible)return!1;e=e.parent}return!0},e.prototype.changeVisibility=function(e){this.visible=e},e.prototype.changeSelection=function(e){this.selected=e},e.prototype.setDependencies=function(e){e&&(this.dependencies=e.slice())},e}();t.ViewVisualModelItem=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){this.id=e,this.predecessor=t,this.type=n};t.ViewVisualModelDependencyInfo=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),i=n(53),r=n(2),s=function(){function e(e,t){this._workingRules=new o.WorkingDayRuleCollection,this._workDayList=new Array,this._calculationRange=e,this._workingRules.importFromObject(t)}return e.prototype.calculateWorkDayList=function(){if(this._calculationRange){this.clearList();for(var e=this._workingRules.items,t=0;t<e.length;t++)this.processRule(e[t]);this.sortList()}},e.prototype.processRule=function(e){for(var t=e.recurrence.calculatePoints(this._calculationRange.start,this._calculationRange.end),n=function(n){var s=t[n],a=r.DateTimeUtils.getDayNumber(s),c=o._workDayList.filter((function(e){return e.dayNumber==a}))[0];c?(c.isWorkDay=c.isWorkDay&&e.isWorkDay,c.addWorkingIntervals(e.workTimeRanges)):o._workDayList.push(new i.DayWorkingTimeInfo(a,e.isWorkDay,e.workTimeRanges))},o=this,s=0;s<t.length;s++)n(s)},e.prototype.sortList=function(){this._workDayList.sort((function(e,t){return e.dayNumber-t.dayNumber}))},e.prototype.clearList=function(){this._workDayList.splice(0,this._workDayList.length)},e.prototype.calculateNoWorkTimeIntervals=function(){var e=this,t=new Array;return 0==this._workDayList.length&&this.calculateWorkDayList(),this._workDayList.forEach((function(n){return t=t.concat(e.getNoWorkTimeRangesFromDay(n))})),this.concatJointedRanges(t)},e.prototype.concatJointedRanges=function(e){for(var t=new Array,n=0;n<e.length;n++){var o=e[n];t.length>0&&r.DateTimeUtils.compareDates(t[t.length-1].end,o.start)<2?t[t.length-1].end=o.end:t.push(o)}return t},e.prototype.getNoWorkTimeRangesFromDay=function(e){return e.noWorkingIntervals.map((function(t){return r.DateTimeUtils.convertTimeRangeToDateRange(t,e.dayNumber)}))},Object.defineProperty(e.prototype,"noWorkingIntervals",{get:function(){return this._noWorkingIntervals||(this._noWorkingIntervals=this.calculateNoWorkTimeIntervals()),this._noWorkingIntervals.slice()},enumerable:!0,configurable:!0}),e.prototype.updateRange=function(e){this._calculationRange=e,this.invalidate()},e.prototype.invalidate=function(){this._noWorkingIntervals=null,this.clearList()},e}();t.WorkingTimeCalculator=s},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),s=n(46),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.createItem=function(){return new s.WorkingTimeRule},t}(r.CollectionBase);t.WorkingDayRuleCollection=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),s=n(0),a=n(2),c=n(26),u=n(27),l=function(e){function t(t,n,o){void 0===t&&(t=null),void 0===n&&(n=!0),void 0===o&&(o=null);var i=e.call(this)||this;return i.isWorkDay=!0,i.workTimeRanges=new Array,i.recurrence=t,i.isWorkDay=n,o&&i.workTimeRanges.concat(o),i}return i(t,e),t.prototype.assignFromObject=function(t){if(s.JsonUtils.isExists(t)){e.prototype.assignFromObject.call(this,t),this.recurrence=c.RecurrenceFactory.createRecurrenceByType(t.recurrenceType)||new u.Daily,s.JsonUtils.isExists(t.recurrence)&&this.recurrence.assignFromObject(t.recurrence),s.JsonUtils.isExists(t.isWorkDay)&&(this.isWorkDay=!!t.isWorkDay);var n=a.DateTimeUtils.convertToTimeRanges(t.workTimeRanges);n&&(this.workTimeRanges=n)}},t}(r.DataObject);t.WorkingTimeRule=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(t.DayOfWeek||(t.DayOfWeek={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December"}(t.Month||(t.Month={}))},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),s=n(2),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.checkDate=function(e){return s.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal,e)},t.prototype.checkInterval=function(e){return s.DateTimeUtils.getWeeksBetween(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=s.DateTimeUtils.getWeeksBetween(this.start,e),n=Math.floor(t/this.interval);(t%this.interval>0||e.getDay()>=this.dayOfWeekInternal)&&n++;var o=n*this.interval;return this.calcNextPointWithWeekCount(this.start,o)},t.prototype.calculateNearestPoint=function(e){var t=this.dayOfWeekInternal-e.getDay();return t>0?s.DateTimeUtils.addDays(new Date(e),t):this.calcNextPointWithWeekCount(e,1)},t.prototype.calcNextPointWithWeekCount=function(e,t){void 0===t&&(t=1);var n=7*t+this.dayOfWeekInternal-e.getDay();return s.DateTimeUtils.addDays(new Date(e),n)},Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!0,configurable:!0}),t}(r.RecurrenceBase);t.Weekly=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),s=n(2),a=n(51),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.checkDate=function(e){return this._calculateByDayOfWeek?s.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(e,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):s.DateTimeUtils.checkDayOfMonth(this.dayInternal,e)},t.prototype.checkInterval=function(e){return s.DateTimeUtils.getMonthsDifference(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=this.start,n=s.DateTimeUtils.getMonthsDifference(t,e),o=Math.floor(n/this.interval)*this.interval,i=new a.MonthInfo(t.getMonth(),t.getFullYear());i.addMonths(o);var r=this.getSpecDayInMonth(i.year,i.month);return s.DateTimeUtils.compareDates(r,e)>=0&&(i.addMonths(this.interval),r=this.getSpecDayInMonth(i.year,i.month)),r},t.prototype.calculateNearestPoint=function(e){var t=e.getMonth(),n=e.getFullYear(),o=this.getSpecDayInMonth(n,t);if(s.DateTimeUtils.compareDates(o,e)>=0){var i=new a.MonthInfo(t,n);i.addMonths(1),o=this.getSpecDayInMonth(i.year,i.month)}return o},Object.defineProperty(t.prototype,"day",{get:function(){return this.dayInternal},set:function(e){this.dayInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(e){this.dayOfWeekOccurrenceInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(e){this._calculateByDayOfWeek=e},enumerable:!0,configurable:!0}),t}(r.RecurrenceBase);t.Monthly=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=function(){function e(e,t){this.month=e,this.year=t}return e.prototype.addMonths=function(e){var t=o.DateTimeUtils.getNextMonth(this.month,e),n=Math.floor(e/12);t<this.month&&++n,this.month=t,this.year+=n},e}();t.MonthInfo=i},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),s=n(2),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.checkDate=function(e){return!!s.DateTimeUtils.checkMonth(this.month,e)&&(this._calculateByDayOfWeek?s.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(e,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):s.DateTimeUtils.checkDayOfMonth(this.dayInternal,e))},t.prototype.checkInterval=function(e){return s.DateTimeUtils.getYearsDifference(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=s.DateTimeUtils.getYearsDifference(this.start,e),n=Math.floor(t/this.interval)*this.interval,o=this.start.getFullYear()+n,i=this.getSpecDayInMonth(o,this.monthInternal);return s.DateTimeUtils.compareDates(i,e)>=0&&(o+=this.interval,i=this.getSpecDayInMonth(o,this.monthInternal)),i},t.prototype.calculateNearestPoint=function(e){var t=e.getFullYear(),n=this.getSpecDayInMonth(t,this.monthInternal);return s.DateTimeUtils.compareDates(n,e)>=0&&(n=this.getSpecDayInMonth(++t,this.monthInternal)),n},Object.defineProperty(t.prototype,"month",{get:function(){return this.monthInternal},set:function(e){this.monthInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"day",{get:function(){return this.dayInternal},set:function(e){this.dayInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(e){this.dayOfWeekOccurrenceInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(e){this._calculateByDayOfWeek=e},enumerable:!0,configurable:!0}),t}(r.RecurrenceBase);t.Yearly=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(24),i=n(2),r=n(23),s=function(){function e(e,t,n){void 0===e&&(e=0),void 0===t&&(t=!0),void 0===n&&(n=null),this._workingIntervals=new Array,this.dayNumber=e,this.isWorkDay=t,this.addWorkingIntervals(n)}return e.prototype.addWorkingIntervals=function(e){e&&(this._workingIntervals=this._workingIntervals.concat(e.filter((function(e){return!!e}))),this.rearrangeWorkingIntervals())},e.prototype.rearrangeWorkingIntervals=function(){for(var e=0;e<this._workingIntervals.length;e++)this.concatWithIntersectedRanges(this._workingIntervals[e]);this.sortIntervals()},e.prototype.concatWithIntersectedRanges=function(e){var t=this;this.getIntersectedIntervals(e).forEach((function(n){e.concatWith(n),t.removeInterval(n)}))},e.prototype.getIntersectedIntervals=function(e){return this._workingIntervals.filter((function(t){return t.hasIntersect(e)&&t!==e}))},e.prototype.sortIntervals=function(){this._workingIntervals.sort((function(e,t){return i.DateTimeUtils.caclTimeDifference(t.start,e.start)}))},e.prototype.removeInterval=function(e){var t=this._workingIntervals.indexOf(e);t>-1&&t<this._workingIntervals.length&&this._workingIntervals.splice(t,1)},e.prototype.clearIntervals=function(){this._workingIntervals.splice(0,this._workingIntervals.length)},Object.defineProperty(e.prototype,"workingIntervals",{get:function(){return this._workingIntervals.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noWorkingIntervals",{get:function(){var e=new Array;if(this.isWorkDay&&0==this._workingIntervals.length)return e;var t=this._workingIntervals.map((function(e){return e.end}));t.splice(0,0,new r.Time);var n=this._workingIntervals.map((function(e){return e.start}));n.push(i.DateTimeUtils.getLastTimeOfDay());for(var s=0;s<t.length;s++){var a=t[s],c=n[s];i.DateTimeUtils.areTimesEqual(a,c)||e.push(new o.TimeRange(a,c))}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWorkDay",{get:function(){return this._isWorkDay},set:function(e){this._isWorkDay=e,e||this.clearIntervals()},enumerable:!0,configurable:!0}),e}();t.DayWorkingTimeInfo=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){this.marginLeft=null,this.marginTop=null,this.marginRight=null,this.marginBottom=null};t.Margins=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){this.scaleItemWidths={}};t.EtalonSizeValues=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(57),i=n(59),r=n(60),s=function(e,t){this.task=new r.TaskManipulator(e,t),this.dependency=new o.TaskDependencyManipulator(e,t),this.resource=new i.ResourcesManipulator(e,t)};t.ModelManipulator=s},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.insertDependency=function(e,t,n,o){var i=this.viewModel.dependencies.createItem();return i.predecessorId=e,i.successorId=t,i.type=n,o&&(i.internalId=o),this.viewModel.dependencies.add(i),this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(i),(function(e){return i.id=e})),this.viewModel.updateVisibleItemDependencies(),this.viewModel.owner.resetAndUpdate(),i},t.prototype.removeDependency=function(e){var t=this.viewModel.dependencies.getItemById(e);return this.viewModel.dependencies.remove(t),this.dispatcher.notifyDependencyRemoved(t.id),this.viewModel.updateVisibleItemDependencies(),this.viewModel.owner.resetAndUpdate(),t},t.prototype.getObjectForDataSource=function(e){return{id:e.id,predecessorId:this.viewModel.tasks.getItemById(e.predecessorId).id,successorId:this.viewModel.tasks.getItemById(e.successorId).id,type:e.type}},t}(n(17).BaseManipulator);t.TaskDependencyManipulator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){this.taskId=e,this.value=t};t.HistoryItemState=o},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.create=function(e,t){var n=this.viewModel.resources.createItem();return n.text=e,t&&(n.internalId=t),this.viewModel.resources.add(n),this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(n),(function(e){return n.id=e})),n},t.prototype.remove=function(e){var t=this.viewModel.resources.getItemById(e);if(!t)throw new Error("Invalid resource id");if(this.viewModel.assignments.items.filter((function(t){return t.resourceId==e})).length)throw new Error("Can't delete assigned resource");return this.viewModel.resources.remove(t),this.dispatcher.notifyResourceRemoved(t.id),t},t.prototype.assign=function(e,t,n){var o=this.viewModel.assignments.createItem();return o.resourceId=e,o.taskId=t,n&&(o.internalId=n),this.viewModel.assignments.add(o),this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(o),(function(e){return o.id=e})),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),o},t.prototype.deassig=function(e){var t=this.viewModel.assignments.getItemById(e);return this.viewModel.assignments.remove(t),this.dispatcher.notifyResourceUnassigned(t),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),t},t.prototype.getResourceObjectForDataSource=function(e){return{id:e.id,text:e.text}},t.prototype.getResourceAssignmentObjectForDataSource=function(e){return{id:e,taskId:this.viewModel.tasks.getItemById(e.taskId).id,resourceId:this.viewModel.resources.getItemById(e.resourceId).id}},t}(n(17).BaseManipulator);t.ResourcesManipulator=r},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),s=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.properties=new r.TaskPropertiesManipulator(t,n),o}return i(t,e),t.prototype.create=function(e,t,n,o,i){var r=this.viewModel.tasks.createItem();(r.start=e,r.end=t,r.title=n,o)&&(this.viewModel.tasks.getItemById(o).expanded=!0,r.parentId=o);return i&&(r.internalId=i),r.id=r.internalId,this.viewModel.tasks.add(r),this.viewModel.updateModel(),this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(r),(function(e){return r.id=e})),this.viewModel.owner.resetAndUpdate(),r},t.prototype.remove=function(e){var t=this.viewModel.tasks.getItemById(e);if(!t)throw new Error("Invalid task id");if(this.viewModel.dependencies.items.filter((function(t){return t.predecessorId==e||t.successorId==e})).length)throw new Error("Can't delete task with dependency");if(this.viewModel.assignments.items.filter((function(t){return t.taskId==e})).length)throw new Error("Can't delete task with assigned resource");return this.viewModel.tasks.remove(t),this.dispatcher.notifyTaskRemoved(t.id),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),t},t.prototype.getObjectForDataSource=function(e){return{id:e.id,start:e.start,end:e.end,duration:e.duration,description:e.description,parentId:e.parentId?this.viewModel.tasks.getItemById(e.parentId).id:null,progress:e.progress,taskType:e.taskType,title:e.title,customFields:e.customFields,expanded:e.expanded}},t}(r.BaseManipulator);t.TaskManipulator=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=function(){function e(){this.historyItems=[],this.currentIndex=-1,this.transaction=null,this.transactionLevel=-1}return e.prototype.undo=function(){this.currentIndex<0||(this.historyItems[this.currentIndex].undo(),this.currentIndex--)},e.prototype.redo=function(){this.currentIndex>=this.historyItems.length-1||(this.currentIndex++,this.historyItems[this.currentIndex].redo())},e.prototype.beginTransaction=function(){this.transactionLevel++,0==this.transactionLevel&&(this.transaction=new o.CompositionHistoryItem)},e.prototype.endTransaction=function(){if(!(--this.transactionLevel>=0)){var e=this.transaction.historyItems.length;e>1?this.addInternal(this.transaction):1==e&&this.addInternal(this.transaction.historyItems.pop()),this.transaction=null}},e.prototype.addAndRedo=function(e){this.add(e),e.redo()},e.prototype.add=function(e){this.transactionLevel>=0?this.transaction.add(e):this.addInternal(e)},e.prototype.addInternal=function(e){this.currentIndex<this.historyItems.length-1&&this.historyItems.splice(this.currentIndex+1),this.historyItems.push(e),this.currentIndex++,this.deleteOldItems()},e.prototype.deleteOldItems=function(){var t=this.historyItems.length-e.MAX_HISTORY_ITEM_COUNT;t>0&&this.currentIndex>t&&(this.historyItems.splice(0,t),this.currentIndex-=t)},e.prototype.clear=function(){this.currentIndex=-1,this.historyItems=[]},e.MAX_HISTORY_ITEM_COUNT=100,e}();t.History=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(63),i=n(1),r=n(71),s=n(12),a=function(){function e(e){this.control=e,this.mouseHandler=new o.MouseHandler(e)}return e.prototype.onMouseDown=function(e){this.mouseHandler.onMouseDown(e)},e.prototype.onMouseMove=function(e){this.mouseHandler.onMouseMove(e)},e.prototype.onMouseUp=function(e){this.mouseHandler.onMouseUp(e)},e.prototype.onMouseDblClick=function(e){this.mouseHandler.onMouseDoubleClick(e)},e.prototype.onMouseWheel=function(e){this.mouseHandler.onMouseWheel(e)},e.prototype.onKeyDown=function(e){if(this.control.isFocus){var t=this.getShortcutCode(e);t==(r.ModifierKey.Ctrl|r.KeyCode.Key_z)&&this.control.history.undo(),t==(r.ModifierKey.Ctrl|r.KeyCode.Key_y)&&this.control.history.redo(),t==r.KeyCode.Delete&&this.control.taskEditController.deleteSelectedDependency()}},e.prototype.getShortcutCode=function(e){var t=i.DomUtils.GetKeyCode(e),n=0;return e.altKey&&(n|=r.ModifierKey.Alt),e.ctrlKey&&(n|=r.ModifierKey.Ctrl),e.shiftKey&&(n|=r.ModifierKey.Shift),e.metaKey&&s.Browser.MacOSPlatform&&(n|=r.ModifierKey.Meta),n|t},e}();t.EventManager=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(64),s=n(8),a=n(30),c=n(65),u=n(1),l=n(67),h=n(68),p=n(69),d=n(70),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onMouseDoubleClick=function(e){this.state.onMouseDoubleClick(e)},t.prototype.onMouseDown=function(e){switch(this.getMouseEventSource(u.DomUtils.getEventSource(e))){case s.MouseEventSource.TaskEdit_Frame:this.switchState(new l.MouseHandlerMoveTaskState(this));break;case s.MouseEventSource.TaskEdit_Progress:this.switchState(new h.MouseHandlerProgressTaskState(this));break;case s.MouseEventSource.TaskEdit_Start:case s.MouseEventSource.TaskEdit_End:this.switchState(new p.MouseHandlerTimestampTaskState(this));break;case s.MouseEventSource.TaskEdit_DependencyStart:case s.MouseEventSource.TaskEdit_DependencyFinish:this.switchState(new d.MouseHandlerDependencyState(this))}this.state.onMouseDown(e)},t.prototype.onMouseUp=function(e){this.state.onMouseUp(e)},t.prototype.onMouseMove=function(e){this.state.onMouseMove(e)},t.prototype.onMouseWheel=function(e){this.state.onMouseWheel(e)},t.prototype.switchToDefaultState=function(){this.state=new c.MouseHandlerDefaultState(this)},t.prototype.getMouseEventSource=function(e){var t=(e.nodeType===Node.ELEMENT_NODE?e:e.parentNode).className;return a.TaskEditController.classToSource[t]||s.MouseEventSource.TaskArea},t}(r.HandlerBase);t.MouseHandler=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.control=e,this.switchToDefaultState()}return e.prototype.switchState=function(e){this.state&&this.state.finish(),this.state=e,this.state.start()},e.prototype.switchToDefaultState=function(){throw new Error("Not implemented")},e}();t.HandlerBase=o},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=n(18),a=n(3),c=n(16),u=function(e){function t(t){var n=e.call(this,t)||this;return n.ganttMovingHelper=new l(n.handler.control),n}return i(t,e),t.prototype.onMouseDown=function(e){e.preventDefault();var t=r.DomUtils.getEventSource(e);if(t.className==c.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL||t.className==c.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL){var n=t.getAttribute("dependency-id");this.handler.control.taskEditController.selectDependency(n),this.handler.control.resetAndUpdate()}else r.DomUtils.IsLeftButtonPressed(e)&&this.ganttMovingHelper.startMoving(e),null!=this.handler.control.taskEditController.dependencyId&&(this.handler.control.taskEditController.selectDependency(null),this.handler.control.resetAndUpdate())},t.prototype.onMouseUp=function(e){this.ganttMovingHelper.onMouseUp(e)},t.prototype.onMouseMove=function(e){this.ganttMovingHelper.movingInfo&&(this.ganttMovingHelper.onMouseMove(e),e.preventDefault())},t.prototype.onMouseWheel=function(e){if(e.ctrlKey){e.preventDefault(),e.stopPropagation();var t=r.DomUtils.getWheelDelta(e)>0,n=new a.Point(r.DomUtils.getEventX(e),r.DomUtils.getEventY(e)),o=this.getRelativePos(new a.Point(r.DomUtils.getEventX(e),r.DomUtils.getEventY(e))),i=this.handler.control.gridLayoutCalculator.getDateByPos(o.x);t?this.handler.control.zoomIn():this.handler.control.zoomOut();var s=this.handler.control.gridLayoutCalculator.getPosByDate(i);this.handler.control.taskAreaContainer.scrollLeft=s-(n.x-r.DomUtils.getAbsolutePositionX(this.handler.control.taskAreaContainer.getElement()))}},t}(s.MouseHandlerStateBase);t.MouseHandlerDefaultState=u;var l=function(){function e(e){this.gantt=e,this.movingInfo=null}return e.prototype.startMoving=function(e){this.movingInfo=this.calcMovingInfo(e),this.updateGanttAreaCursor(!0)},e.prototype.cancelMoving=function(){this.movingInfo=null},e.prototype.onMouseMove=function(e){this.move(e)},e.prototype.onMouseUp=function(e){this.cancelMoving(),this.updateGanttAreaCursor(!1)},e.prototype.move=function(e){this.updateScrollPosition(e)},e.prototype.updateScrollPosition=function(e){var t=Math.round(r.DomUtils.getEventX(e)),n=Math.round(r.DomUtils.getEventY(e)),o=t-this.movingInfo.eventX,i=n-this.movingInfo.eventY,s=o<0?-1:1,a=i<0?-1:1,c=s<0?this.movingInfo.maxRightDelta:this.movingInfo.maxLeftDelta,u=a<0?this.movingInfo.maxBottomDelta:this.movingInfo.maxTopDelta;Math.abs(o)>c&&(o=c*s),Math.abs(i)>u&&(i=u*a);var l=this.movingInfo.scrollLeft-o,h=this.movingInfo.scrollTop-i,p=this.gantt.taskAreaContainer;p.scrollLeft!==l&&(p.scrollLeft=l),p.scrollTop!==h&&(p.scrollTop=h)},e.prototype.calcMovingInfo=function(e){var t=this.gantt.taskAreaContainer;return{eventX:r.DomUtils.getEventX(e),eventY:r.DomUtils.getEventY(e),scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,maxLeftDelta:t.scrollLeft,maxRightDelta:t.scrollWidth-t.scrollLeft-t.getElement().offsetWidth,maxTopDelta:t.scrollTop,maxBottomDelta:t.scrollHeight-t.scrollTop-t.getElement().offsetHeight}},e.prototype.updateGanttAreaCursor=function(e){this.gantt.taskAreaContainer.getElement().style.cursor=e?"grabbing":"default"},e}();t.GanttMovingHelper=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.handler=e}return e.prototype.start=function(){},e.prototype.finish=function(){},e}();t.HandlerStateBase=o},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onMouseUpInternal=function(e){this.handler.control.taskEditController.confirmMove()},t.prototype.onMouseMoveInternal=function(e){this.handler.control.taskEditController.processMove(e.x-this.currentPosition.x)},t}(n(19).MouseHandlerDragBaseState);t.MouseHandlerMoveTaskState=r},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onMouseUpInternal=function(e){this.handler.control.taskEditController.confirmProgress()},t.prototype.onMouseMoveInternal=function(e){var t=this.getRelativePos(e);this.handler.control.taskEditController.processProgress(t)},t}(n(19).MouseHandlerDragBaseState);t.MouseHandlerProgressTaskState=r},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),s=n(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onMouseDown=function(t){e.prototype.onMouseDown.call(this,t),this.source=this.handler.getMouseEventSource(s.DomUtils.getEventSource(t))},t.prototype.onMouseUpInternal=function(e){this.source==r.MouseEventSource.TaskEdit_Start?this.handler.control.taskEditController.confirmStart():this.handler.control.taskEditController.confirmEnd()},t.prototype.onMouseMoveInternal=function(e){var t=this.getRelativePos(e);this.source==r.MouseEventSource.TaskEdit_Start&&this.handler.control.taskEditController.processStart(t),this.source==r.MouseEventSource.TaskEdit_End&&this.handler.control.taskEditController.processEnd(t)},t}(n(19).MouseHandlerDragBaseState);t.MouseHandlerTimestampTaskState=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),s=n(1),a=n(18),c=n(8),u=n(14),l=[];l[c.MouseEventSource.TaskEdit_DependencyStart]=[],l[c.MouseEventSource.TaskEdit_DependencyFinish]=[],l[c.MouseEventSource.TaskEdit_DependencyStart][c.MouseEventSource.Successor_DependencyStart]=u.DependencyType.SS,l[c.MouseEventSource.TaskEdit_DependencyStart][c.MouseEventSource.Successor_DependencyFinish]=u.DependencyType.SF,l[c.MouseEventSource.TaskEdit_DependencyFinish][c.MouseEventSource.Successor_DependencyStart]=u.DependencyType.FS,l[c.MouseEventSource.TaskEdit_DependencyFinish][c.MouseEventSource.Successor_DependencyFinish]=u.DependencyType.FF;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onMouseDown=function(e){var t=s.DomUtils.getEventSource(e);this.source=this.handler.getMouseEventSource(t);var n=this.getRelativePos(new r.Point(s.DomUtils.getAbsolutePositionX(t)+t.clientWidth/2,s.DomUtils.getAbsolutePositionY(t)+t.clientHeight/2));this.handler.control.taskEditController.startDependency(n)},t.prototype.onMouseUp=function(e){var t=this.handler.getMouseEventSource(s.DomUtils.getEventSource(e)),n=t===c.MouseEventSource.Successor_DependencyStart||t==c.MouseEventSource.Successor_DependencyFinish?l[this.source][t]:null;this.handler.control.taskEditController.endDependency(n),this.handler.switchToDefaultState()},t.prototype.onMouseMove=function(e){e.preventDefault();var t=this.getRelativePos(new r.Point(s.DomUtils.getEventX(e),s.DomUtils.getEventY(e))),n=Math.floor(t.y/this.handler.control.tickSize.height);this.handler.control.taskEditController.processDependency(t),this.handler.control.viewModel.tasks.items[n]&&this.handler.control.taskEditController.showDependencySuccessor(n)},t}(a.MouseHandlerStateBase);t.MouseHandlerDependencyState=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.None=0]="None",e[e.Ctrl=65536]="Ctrl",e[e.Shift=262144]="Shift",e[e.Alt=1048576]="Alt",e[e.Meta=16777216]="Meta"}(t.ModifierKey||(t.ModifierKey={})),function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Pause=19]="Pause",e[e.CapsLock=20]="CapsLock",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Key_0=48]="Key_0",e[e.Key_1=49]="Key_1",e[e.Key_2=50]="Key_2",e[e.Key_3=51]="Key_3",e[e.Key_4=52]="Key_4",e[e.Key_5=53]="Key_5",e[e.Key_6=54]="Key_6",e[e.Key_7=55]="Key_7",e[e.Key_8=56]="Key_8",e[e.Key_9=57]="Key_9",e[e.Key_a=65]="Key_a",e[e.Key_b=66]="Key_b",e[e.Key_c=67]="Key_c",e[e.Key_d=68]="Key_d",e[e.Key_e=69]="Key_e",e[e.Key_f=70]="Key_f",e[e.Key_g=71]="Key_g",e[e.Key_h=72]="Key_h",e[e.Key_i=73]="Key_i",e[e.Key_j=74]="Key_j",e[e.Key_k=75]="Key_k",e[e.Key_l=76]="Key_l",e[e.Key_m=77]="Key_m",e[e.Key_n=78]="Key_n",e[e.Key_o=79]="Key_o",e[e.Key_p=80]="Key_p",e[e.Key_q=81]="Key_q",e[e.Key_r=82]="Key_r",e[e.Key_s=83]="Key_s",e[e.Key_t=84]="Key_t",e[e.Key_u=85]="Key_u",e[e.Key_v=86]="Key_v",e[e.Key_w=87]="Key_w",e[e.Key_x=88]="Key_x",e[e.Key_y=89]="Key_y",e[e.Key_z=90]="Key_z",e[e.Windows=91]="Windows",e[e.ContextMenu=93]="ContextMenu",e[e.Numpad_0=96]="Numpad_0",e[e.Numpad_1=97]="Numpad_1",e[e.Numpad_2=98]="Numpad_2",e[e.Numpad_3=99]="Numpad_3",e[e.Numpad_4=100]="Numpad_4",e[e.Numpad_5=101]="Numpad_5",e[e.Numpad_6=102]="Numpad_6",e[e.Numpad_7=103]="Numpad_7",e[e.Numpad_8=104]="Numpad_8",e[e.Numpad_9=105]="Numpad_9",e[e.Multiply=106]="Multiply",e[e.Add=107]="Add",e[e.Subtract=109]="Subtract",e[e.Decimal=110]="Decimal",e[e.Divide=111]="Divide",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Semicolon=186]="Semicolon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Dash=189]="Dash",e[e.Period=190]="Period",e[e.ForwardSlash=191]="ForwardSlash",e[e.GraveAccent=192]="GraveAccent",e[e.OpenBracket=219]="OpenBracket",e[e.BackSlash=220]="BackSlash",e[e.CloseBracket=221]="CloseBracket",e[e.SingleQuote=222]="SingleQuote"}(t.KeyCode||(t.KeyCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.element=e,this.element.addEventListener("scroll",(function(){t.updateView()}))}return Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.element.scrollTop},set:function(e){this.element.scrollTop=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollLeft",{get:function(){return this.element.scrollLeft},set:function(e){this.element.scrollLeft=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollWidth",{get:function(){return this.element.scrollWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollHeight",{get:function(){return this.element.scrollHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExternal",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.getElement=function(){return this.element},e}();t.TaskAreaContainer=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=n(0),r=function(){function e(){this.viewType=void 0,this.taskTitlePosition=o.TaskTitlePosition.Inside,this.showResources=!0,this.areHorizontalBordersEnabled=!0,this.areVerticalBordersEnabled=!0,this.areAlternateRowsEnabled=!0,this.allowSelectTask=!0,this.editing=new s}return e.parse=function(t){var n=new e;return t&&(i.JsonUtils.isExists(t.viewType)&&(n.viewType=t.viewType),i.JsonUtils.isExists(t.taskTitlePosition)&&(n.taskTitlePosition=t.taskTitlePosition),i.JsonUtils.isExists(t.showResources)&&(n.showResources=t.showResources),i.JsonUtils.isExists(t.areHorizontalBordersEnabled)&&(n.areHorizontalBordersEnabled=t.areHorizontalBordersEnabled),i.JsonUtils.isExists(t.areVerticalBordersEnabled)&&(n.areHorizontalBordersEnabled=t.areHorizontalBordersEnabled),i.JsonUtils.isExists(t.areAlternateRowsEnabled)&&(n.areAlternateRowsEnabled=t.areAlternateRowsEnabled),i.JsonUtils.isExists(t.allowSelectTask)&&(n.allowSelectTask=t.allowSelectTask),i.JsonUtils.isExists(t.editing)&&(n.editing=s.parse(t.editing))),n},e}();t.Settings=r;var s=function(){function e(){this.enabled=!1,this.allowDependencyDeleting=!0,this.allowDependencyAdding=!0,this.allowDependencyUpdating=!0,this.allowTaskDeleting=!0,this.allowTaskAdding=!0,this.allowTaskUpdating=!0,this.allowResourceDeleting=!0,this.allowResourceAdding=!0,this.allowResourceUpdating=!0}return e.parse=function(t){var n=new e;return t&&(i.JsonUtils.isExists(t.enabled)&&(n.enabled=t.enabled),i.JsonUtils.isExists(t.allowDependencyDeleting)&&(n.allowDependencyDeleting=t.allowDependencyDeleting),i.JsonUtils.isExists(t.allowDependencyAdding)&&(n.allowDependencyAdding=t.allowDependencyAdding),i.JsonUtils.isExists(t.allowDependencyUpdating)&&(n.allowDependencyUpdating=t.allowDependencyUpdating),i.JsonUtils.isExists(t.allowTaskDeleting)&&(n.allowTaskDeleting=t.allowTaskDeleting),i.JsonUtils.isExists(t.allowTaskAdding)&&(n.allowTaskAdding=t.allowTaskAdding),i.JsonUtils.isExists(t.allowTaskUpdating)&&(n.allowTaskUpdating=t.allowTaskUpdating),i.JsonUtils.isExists(t.allowResourceDeleting)&&(n.allowResourceDeleting=t.allowResourceDeleting),i.JsonUtils.isExists(t.allowResourceAdding)&&(n.allowResourceAdding=t.allowResourceAdding),i.JsonUtils.isExists(t.allowResourceUpdating)&&(n.allowResourceUpdating=t.allowResourceUpdating)),n},e}();t.EditingSettings=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(75),i=function(){function e(){this.onModelChanged=new o.EventDispatcher}return e.prototype.notifyTaskCreated=function(e,t){this.onModelChanged.raise("NotifyTaskCreated",e,t)},e.prototype.notifyTaskRemoved=function(e){this.onModelChanged.raise("NotifyTaskRemoved",e)},e.prototype.notifyTaskTitleChanged=function(e,t){this.onModelChanged.raise("NotifyTaskTitleChanged",e,t)},e.prototype.notifyTaskDescriptionChanged=function(e,t){this.onModelChanged.raise("NotifyTaskDescriptionChanged",e,t)},e.prototype.notifyTaskStartChanged=function(e,t){this.onModelChanged.raise("NotifyTaskStartChanged",e,t)},e.prototype.notifyTaskEndChanged=function(e,t){this.onModelChanged.raise("NotifyTaskEndChanged",e,t)},e.prototype.notifyTaskProgressChanged=function(e,t){this.onModelChanged.raise("NotifyTaskProgressChanged",e,t)},e.prototype.notifyDependencyInserted=function(e,t){this.onModelChanged.raise("NotifyDependencyInserted",e,t)},e.prototype.notifyDependencyRemoved=function(e){this.onModelChanged.raise("NotifyDependencyRemoved",e)},e.prototype.notifyResourceCreated=function(e,t){this.onModelChanged.raise("NotifyResourceCreated",e,t)},e.prototype.notifyResourceRemoved=function(e){this.onModelChanged.raise("NotifyResourceRemoved",e)},e.prototype.notifyResourceAssigned=function(e,t){this.onModelChanged.raise("NotifyResourceAssigned",e,t)},e.prototype.notifyResourceUnassigned=function(e){this.onModelChanged.raise("NotifyResourceUnassigned",e)},e}();t.ModelChangesDispatcher=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.listeners=[]}return e.prototype.add=function(e){if(!e)throw new Error("Error");this.hasEventListener(e)||this.listeners.push(e)},e.prototype.remove=function(e){for(var t,n=0;t=this.listeners[n];n++)if(t===e){this.listeners.splice(n,1);break}},e.prototype.raise=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o,i=0;o=this.listeners[i];i++)o[e].apply(o,t)},e.prototype.hasEventListener=function(e){for(var t=0,n=this.listeners.length;t<n;t++)if(this.listeners[t]===e)return!0;return!1},e}();t.EventDispatcher=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(77),i=n(79),r=n(80),s=n(81),a=n(82),c=n(83),u=n(84),l=n(85),h=function(){function e(e){this.control=e,this.commands={},this.createCommand(l.GanttClientCommand.CreateTask,this.createTaskCommand),this.createCommand(l.GanttClientCommand.CreateSubTask,this.createSubTaskCommand),this.createCommand(l.GanttClientCommand.RemoveTask,this.removeTaskCommand),this.createCommand(l.GanttClientCommand.RemoveDependency,this.removeDependencyCommand),this.createCommand(l.GanttClientCommand.TaskInformation,this.showTaskEditDialog),this.createCommand(l.GanttClientCommand.TaskAddContextItem,new o.TaskAddContextItemCommand(this.control))}return Object.defineProperty(e.prototype,"createTaskCommand",{get:function(){return new o.CreateTaskCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"createSubTaskCommand",{get:function(){return new o.CreateSubTaskCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeTaskCommand",{get:function(){return new o.RemoveTaskCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskTitleCommand",{get:function(){return new i.TaskTitleCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskDescriptionCommand",{get:function(){return new i.TaskDescriptionCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskProgressCommand",{get:function(){return new i.TaskProgressCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskStartCommand",{get:function(){return new i.TaskStartCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskEndCommand",{get:function(){return new i.TaskEndCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"createDependencyCommand",{get:function(){return new r.CreateDependencyCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeDependencyCommand",{get:function(){return new r.RemoveDependencyCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"createResourceCommand",{get:function(){return new s.CreateResourceCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeResourceCommand",{get:function(){return new s.RemoveResourceCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assignResourceCommand",{get:function(){return new s.AssignResourceCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deassignResourceCommand",{get:function(){return new s.DeassignResourceCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTaskEditDialog",{get:function(){return new a.TaskEditDialogCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showConstraintViolationDialog",{get:function(){return new c.ConstraintViolationDialogCommand(this.control)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showResourcesDialog",{get:function(){return new u.ResourcesDialogCommand(this.control)},enumerable:!0,configurable:!0}),e.prototype.getCommand=function(e){return this.commands[e]},e.prototype.createCommand=function(e,t){this.commands[e]=t},e}();t.CommandManager=h},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),s=n(78),a=n(20),c=n(21),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getState=function(){var e=new r.SimpleCommandState(this.isEnabled());return e.visible=e.enabled&&!this.control.taskEditController.dependencyId,e},t}(r.CommandBase);t.TaskCommandBase=u;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t,n,o,i){return e.prototype.execute.call(this,t,n,o,i)},t.prototype.executeInternal=function(e,t,n,o){if(!o){var i=this.control.viewModel.findItem(this.control.currentSelectedTaskID).task;i&&(o=i.parentId)}var r=(this.control.viewModel.findItem(o)||this.control.viewModel.items[0]).task;return e=e||new Date(r.start.getTime()),t=t||new Date(r.end.getTime()),n=n||"New task",this.history.addAndRedo(new s.CreateTaskHistoryItem(this.modelManipulator,e,t,n,o)),!0},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskAdding},t}(u);t.CreateTaskCommand=l;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){e=e||this.control.currentSelectedTaskID;var t=this.control.viewModel.findItem(e);return!!t.selected&&(this.history.addAndRedo(new s.CreateTaskHistoryItem(this.modelManipulator,new Date(t.task.start.getTime()),new Date(t.task.end.getTime()),"New task",e)),!0)},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskAdding},t.prototype.getState=function(){var t=e.prototype.getState.call(this),n=this.control.viewModel.findItem(this.control.currentSelectedTaskID);return t.visible=t.visible&&n&&n.selected,t},t}(u);t.CreateSubTaskCommand=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){var n=this;e=e||this.control.currentSelectedTaskID,this.control.viewModel.beginUpdate(),this.history.beginTransaction(),this.control.viewModel.tasks.items.filter((function(t){return t.parentId==e})).forEach((function(e){return new t(n.control).execute(e.internalId)}));var o=this.control.viewModel.dependencies.items.filter((function(t){return t.predecessorId==e||t.successorId==e}));if(o.length){if(!this.control.settings.editing.allowDependencyDeleting)return!1;o.forEach((function(e){return n.history.addAndRedo(new a.RemoveDependencyHistoryItem(n.modelManipulator,e.internalId))}))}return this.control.viewModel.assignments.items.filter((function(t){return t.taskId==e})).forEach((function(e){return n.history.addAndRedo(new c.DeassignResourceHistoryItem(n.modelManipulator,e.internalId))})),this.history.addAndRedo(new s.RemoveTaskHistoryItem(this.modelManipulator,e)),this.history.endTransaction(),this.control.viewModel.endUpdate(),!0},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskDeleting},t}(u);t.RemoveTaskCommand=p;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.visible&&this.control.settings.editing.allowTaskAdding,t},t.prototype.execute=function(){return!1},t}(u);t.TaskAddContextItemCommand=d},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),s=function(e){function t(t,n,o,i,r){var s=e.call(this,t)||this;return s.start=n,s.end=o,s.title=i,s.parentId=r,s}return i(t,e),t.prototype.redo=function(){this.taskId=this.modelManipulator.task.create(this.start,this.end,this.title,this.parentId,this.taskId?this.taskId:null).internalId},t.prototype.undo=function(){this.modelManipulator.task.remove(this.taskId)},t}(r.HistoryItem);t.CreateTaskHistoryItem=s;var a=function(e){function t(t,n){var o=e.call(this,t)||this;return o.taskId=n,o}return i(t,e),t.prototype.redo=function(){this.task=this.modelManipulator.task.remove(this.taskId)},t.prototype.undo=function(){this.modelManipulator.task.create(this.task.start,this.task.end,this.task.title,this.task.parentId,this.task.internalId)},t}(r.HistoryItem);t.RemoveTaskHistoryItem=a},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),s=n(31),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdating},t}(r.CommandBase);t.TaskPropertyCommandBase=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){return this.control.viewModel.tasks.getItemById(e).title!=t&&(this.history.addAndRedo(new s.TaskTitleHistoryItem(this.modelManipulator,e,t)),!0)},t}(a);t.TaskTitleCommand=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){return this.control.viewModel.tasks.getItemById(e).description!=t&&(this.history.addAndRedo(new s.TaskDesriptionHistoryItem(this.modelManipulator,e,t)),!0)},t}(a);t.TaskDescriptionCommand=u;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){return this.control.viewModel.tasks.getItemById(e).progress!=t&&(this.history.addAndRedo(new s.TaskProgressHistoryItem(this.modelManipulator,e,t)),!0)},t}(a);t.TaskProgressCommand=l;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){return this.control.viewModel.tasks.getItemById(e).start.getTime()!=t.getTime()&&(this.history.addAndRedo(new s.TaskStartHistoryItem(this.modelManipulator,e,t)),t<this.control.dataRange.start&&(this.control.dataRange.start=t),!0)},t}(a);t.TaskStartCommand=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){return this.control.viewModel.tasks.getItemById(e).end.getTime()!=t.getTime()&&(this.history.addAndRedo(new s.TaskEndHistoryItem(this.modelManipulator,e,t)),t>this.control.dataRange.end&&(this.control.dataRange.end=t),!0)},t}(a);t.TaskEndCommand=p},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),s=n(20),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},t}(r.CommandBase);t.DependencyCommandBase=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t,n,o){return e.prototype.execute.call(this,t,n,o)},t.prototype.executeInternal=function(e,t,n){return!this.control.viewModel.dependencies.items.filter((function(n){return n.predecessorId==e&&n.successorId==t||n.successorId==e&&n.predecessorId==t})).length&&(this.history.addAndRedo(new s.InsertDependencyHistoryItem(this.modelManipulator,e,t,n)),!0)},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyAdding},t}(a);t.CreateDependencyCommand=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){if(null!=(e=e||this.control.taskEditController.dependencyId)&&this.control.viewModel.dependencies.items.filter((function(t){return t.internalId==e}))[0])return this.history.addAndRedo(new s.RemoveDependencyHistoryItem(this.modelManipulator,e)),!0;return!1},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyDeleting},t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.enabled&&null!=this.control.taskEditController.dependencyId,t},t}(a);t.RemoveDependencyCommand=u},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),s=n(21),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},t}(r.CommandBase);t.ResourceCommandBase=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){return this.history.addAndRedo(new s.CreateResourceHistoryItem(this.modelManipulator,e)),!0},t}(a);t.CreateResourceCommand=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){var t=this;return!!this.control.viewModel.resources.items.filter((function(t){return t.internalId==e}))[0]&&(this.history.beginTransaction(),this.control.viewModel.assignments.items.filter((function(t){return t.resourceId==e})).forEach((function(e){return t.history.addAndRedo(new s.DeassignResourceHistoryItem(t.modelManipulator,e.internalId))})),this.history.addAndRedo(new s.RemoveResourceHistoryItem(this.modelManipulator,e)),this.history.endTransaction(),!0)},t}(a);t.RemoveResourceCommand=u;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){return!this.control.viewModel.assignments.items.filter((function(n){return n.resourceId==e&&n.taskId==t}))[0]&&(this.history.addAndRedo(new s.AssignResourceHistoryItem(this.modelManipulator,e,t)),!0)},t}(a);t.AssignResourceCommand=l;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){return!!this.control.viewModel.assignments.items.filter((function(t){return t.internalId==e}))[0]&&(this.history.addAndRedo(new s.DeassignResourceHistoryItem(this.modelManipulator,e)),!0)},t}(a);t.DeassignResourceCommand=h},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),s=n(31),a=n(13),c=n(21),u=n(5),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.applyParameters=function(e,t){this.history.beginTransaction(),e.title!=t.title&&this.history.addAndRedo(new s.TaskTitleHistoryItem(this.modelManipulator,t.id,e.title)),e.progress!=t.progress&&this.history.addAndRedo(new s.TaskProgressHistoryItem(this.modelManipulator,t.id,e.progress)),e.start!=t.start&&this.history.addAndRedo(new s.TaskStartHistoryItem(this.modelManipulator,t.id,e.start)),e.end!=t.end&&this.history.addAndRedo(new s.TaskEndHistoryItem(this.modelManipulator,t.id,e.end));for(var n=0;n<e.assigned.length;n++){t.assigned.getItemById(e.assigned.getItem(n).internalId)||this.history.addAndRedo(new c.AssignResourceHistoryItem(this.modelManipulator,e.assigned.getItem(n).internalId,t.id))}var o=function(n){var o=t.assigned.getItem(n);if(!e.assigned.getItemById(o.internalId)){var r=i.control.viewModel.assignments.items.filter((function(e){return e.resourceId==o.internalId&&e.taskId==t.id}))[0];i.history.addAndRedo(new c.DeassignResourceHistoryItem(i.modelManipulator,r.internalId))}},i=this;for(n=0;n<t.assigned.length;n++)o(n);return this.history.endTransaction(),!1},t.prototype.createParameters=function(e){e=e||this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);var t=new h;return t.id=e.internalId,t.title=e.title,t.progress=e.progress,t.start=e.start,t.end=e.end,t.assigned=this.control.viewModel.getAssignedResources(e),t.resources=new a.ResourceCollection,t.resources.addRange(this.control.viewModel.resources.items),t.showResourcesDialogCommand=this.control.commandManager.showResourcesDialog,t},t.prototype.isEnabled=function(){return!0},t.prototype.getState=function(){var e=new u.SimpleCommandState(this.isEnabled());return e.visible=!this.control.taskEditController.dependencyId,e},t.prototype.getDialogName=function(){return"TaskEdit"},t}(r.DialogBase);t.TaskEditDialogCommand=l;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.clone=function(){var e=new t;return e.id=this.id,e.title=this.title,e.progress=this.progress,e.start=this.start,e.end=this.end,e.assigned=new a.ResourceCollection,e.assigned.addRange(this.assigned.items),e.resources=new a.ResourceCollection,e.resources.addRange(this.resources.items),e.showResourcesDialogCommand=this.showResourcesDialogCommand,e},t}(r.DialogParametersBase);t.TaskEditParameters=h},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(22),a=n(20);!function(e){e[e.DoNothing=0]="DoNothing",e[e.RemoveDependency=1]="RemoveDependency",e[e.KeepDependency=2]="KeepDependency"}(r=t.ConstraintViolationOption||(t.ConstraintViolationOption={}));var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.applyParameters=function(e,t){return e.option!==r.DoNothing&&(e.option===r.RemoveDependency&&this.history.addAndRedo(new a.RemoveDependencyHistoryItem(this.modelManipulator,t.dependencyId)),!0)},t.prototype.createParameters=function(e){var t=new u;return t.dependencyId=e,t},t.prototype.getDialogName=function(){return"ConstraintViolation"},t}(s.DialogBase);t.ConstraintViolationDialogCommand=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.clone=function(){var e=new t;return e.dependencyId=this.dependencyId,e.option=this.option,e},t}(s.DialogParametersBase);t.ConstraintViolationDialogParameters=u},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),s=n(13),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.applyParameters=function(e,t){this.history.beginTransaction();for(var n=0;n<e.resources.length;n++){t.resources.getItemById(e.resources.getItem(n).internalId)||this.control.commandManager.createResourceCommand.execute(e.resources.getItem(n).text)}for(n=0;n<t.resources.length;n++){e.resources.getItemById(t.resources.getItem(n).internalId)||this.control.commandManager.removeResourceCommand.execute(t.resources.getItem(n).internalId)}return this.history.endTransaction(),!1},t.prototype.createParameters=function(){var e=new c;return e.resources=new s.ResourceCollection,e.resources.addRange(this.control.viewModel.resources.items),e},t.prototype.getDialogName=function(){return"Resources"},t}(r.DialogBase);t.ResourcesDialogCommand=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.clone=function(){var e=new t;return e.resources=new s.ResourceCollection,e.resources.addRange(this.resources.items),e},t}(r.DialogParametersBase);t.ResourcesDialogParameters=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CreateTask=0]="CreateTask",e[e.CreateSubTask=1]="CreateSubTask",e[e.RemoveTask=2]="RemoveTask",e[e.RemoveDependency=3]="RemoveDependency",e[e.TaskInformation=4]="TaskInformation",e[e.TaskAddContextItem=5]="TaskAddContextItem"}(t.GanttClientCommand||(t.GanttClientCommand={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.control=e,this.bars=t}return e.prototype.updateContextMenu=function(){for(var e,t=0;e=this.bars[t];t++)if(e.isContextMenu()){e.updateItemsList();for(var n=e.getCommandKeys(),o=0;o<n.length;o++)this.updateBarItem(e,n[o])}},e.prototype.updateItemsState=function(e){for(var t,n=!!e.length,o=0;t=this.bars[o];o++)if(t.isVisible())for(var i=t.getCommandKeys(),r=function(o,i){if(n&&!e.filter((function(e){return e==i})).length)return"continue";s.updateBarItem(t,i)},s=this,a=0,c=void 0;c=i[a];a++)r(0,c)},e.prototype.updateBarItem=function(e,t){var n=this.control.commandManager.getCommand(t);if(n){var o=n.getState();e.setItemVisible(t,o.visible),o.visible&&(e.setItemEnabled(t,o.enabled),e.setItemValue(t,o.value))}},e}();t.BarManager=o}])}));